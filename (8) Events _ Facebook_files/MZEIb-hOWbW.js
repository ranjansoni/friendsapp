;/*FB_PKG_DELIM*/

__d("CometNotificationsMarkReadMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9662740873839277"}),null);
__d("CometNotificationsMarkReadMutation.graphql",["CometNotificationsMarkReadMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationMarkReadResponsePayload",kind:"LinkedField",name:"notification_mark_read",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometNotificationsMarkReadMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometNotificationsMarkReadMutation",selections:t},params:{id:n("CometNotificationsMarkReadMutation_facebookRelayOperation"),metadata:{},name:"CometNotificationsMarkReadMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometNotificationsMarkReadMutation",["CometNotificationsMarkReadMutation.graphql","CometNotificationsMutationLogger","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometNotificationsMarkReadMutation.graphql");function u(e,t,n,r){var a=o("CometNotificationsMutationLogger").notificationMarkAsReadStart(n),i=a.logOnError,l=a.logOnSuccess;return o("CometRelay").commitMutation(e,{mutation:s,onCompleted:function(){l(),r&&r.onSuccess()},onError:function(t){i(t),r&&r.onError()},optimisticResponse:{notification_mark_read:{notification:{id:t.input.notif_id,seen_state:"SEEN_AND_READ"}}},variables:t})}l.default=u}),98);
__d("EventNotificationsUpdateSeenStateMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29564648209815453"}),null);
__d("EventNotificationsUpdateSeenStateMutation.graphql",["EventNotificationsUpdateSeenStateMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"bookmarkIDs"},t={defaultValue:null,kind:"LocalArgument",name:"environment"},r={defaultValue:null,kind:"LocalArgument",name:"hasBookmark"},o={defaultValue:null,kind:"LocalArgument",name:"hasTopTab"},a={defaultValue:null,kind:"LocalArgument",name:"input"},i=[{kind:"Variable",name:"data",variableName:"input"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},u=[{kind:"Variable",name:"bookmark_ids",variableName:"bookmarkIDs"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],c=[{kind:"Literal",name:"bookmark_render_location",value:"COMET_LEFT_NAV"}],d={condition:"hasBookmark",kind:"Condition",passingValue:!0,selections:[{alias:"bookmark_unread_count",args:c,kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_LEFT_NAV")'}]},m={alias:"bookmark_unread_count_string",args:c,kind:"ScalarField",name:"unread_count_string",storageKey:'unread_count_string(bookmark_render_location:"COMET_LEFT_NAV")'},p={condition:"hasTopTab",kind:"Condition",passingValue:!0,selections:[{alias:"tab_unread_count",args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'}]};return{fragment:{argumentDefinitions:[e,t,r,o,a],kind:"Fragment",metadata:null,name:"EventNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:i,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[s,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"},{alias:null,args:u,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[l],storageKey:null},d,m,p],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,o,r,a,t],kind:"Operation",name:"EventNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:i,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[s,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:u,concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l],storageKey:null},d,m,p,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("EventNotificationsUpdateSeenStateMutation_facebookRelayOperation"),metadata:{},name:"EventNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("EventNotificationsUpdateSeenStateMutation",["CometNotificationsMutationLogger","CometNotificationsThinClientConnectionHandler","CometRelay","EventNotificationsUpdateSeenStateMutation.graphql","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("EventNotificationsUpdateSeenStateMutation.graphql");function u(e,t){var n=t[0];if(n!=null){var r=e.get(o("relay-runtime").VIEWER_ID);if(r!=null){var a=o("CometNotificationsThinClientConnectionHandler").getConnection(r,"CometNotificationsList_notifications_page");if(a!=null){var i=a.getLinkedRecords("edges");if(!(i==null||i.length===0)){var l=[];i.forEach(function(e){if(e!=null){var t=e.getLinkedRecord("node");if(t!=null){var n=t.getType();if(!(n!=="NotifPageNotificationRow"&&n!=="NotifPageCachedNotificationRow")){var r=t.getLinkedRecord("notif");r!=null&&l.push(r)}}}});var s=l.findIndex(function(e){return e.getValue("id")===n});if(!(s<0)){l[s]!=null&&l[s].setValue("SEEN_BUT_UNREAD","seen_state");var u=r.getValue("notifications_unseen_count",{environment:"MAIN_SURFACE"});if(u!=null){var c=+u-1;r.setValue(Math.max(0,c),"notifications_unseen_count",{environment:"MAIN_SURFACE"})}}}}}}}function c(e,t,n){var r=function(r){var e=t.input;if(e!=null){var o=e.notif_ids;o!=null&&(u(r,o),n&&n.updater&&n.updater(r))}},a=o("CometNotificationsMutationLogger").notificationMarkAsSeenStart(),i=a.logOnError,l=a.logOnSuccess;return o("CometRelay").commitMutation(e,{mutation:s,onCompleted:function(t){l(),n&&n.onSuccess(t)},onError:function(t){i(t),n&&n.onError(t)},optimisticUpdater:r,variables:t})}l.EventNotificationsUpdateSeenStateMutation=c,l.mutation=s}),98);