;/*FB_PKG_DELIM*/

__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s={getItem:function(o,a){return new(e||(e=n("Promise")))(function(e,t){r("WebAsyncStorage").getItem(o,function(n,r){a&&a(n,r),n!=null?t(n):e(r)})})},removeItem:function(o,a){return new(e||(e=n("Promise")))(function(e,t){r("WebAsyncStorage").removeItem(o,function(n){a&&a(n),n!=null?t(n):e()})})},setItem:function(o,a,i){return new(e||(e=n("Promise")))(function(e,t){r("WebAsyncStorage").setItem(o,a,function(n){i&&i(n),n!=null?t(n):e()})})}},u=s;l.default=u}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("server_mode",e[1]),r[0].set("from_timestamp_ms",e[2]),r[0].set("threads",e[3]),r[0].set("session_id",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",t.i64.cast([0,648]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSSynchronousPromise","LSVerifyThreadsActivityStatus","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyThreadsActivityStatus"),a.sessionId,a.serverMode,a.fromTimestampMs,a.threads);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="maw_unsupported_browser_nux_dismissed",u="dismissed",c=function(){var t;return((t=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(s))===u},d=function(){var t;(t=(e||(e=r("WebStorage"))).getLocalStorage())==null||t.setItem(s,u)};l.getIsDismissed=c,l.setIsDismissed=d}),98);
__d("MAWUserVisibleErrorsNux.react",["ix","MAWLoggerUtils","MWXIconCautionTriangle","MWXQPCard.react","QPLUserFlow","gkx","qpl","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d={hasNoMargin:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(17),n=e.hasNoMargin,a=e.icon,i=e.nuxBodyText,l=e.nuxButtonProps,m=e.nuxTitleText,p=e.onCloseButtonClick,_=e.ref,f=e.secondaryButtonProps,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=o("MAWLoggerUtils").getInstanceKey(),t[0]=g):g=t[0];var h=g,y,C;t[1]!==m?(y=function(){return r("QPLUserFlow").start(r("qpl")._(1056846286,"652"),{annotations:{string:{nuxTitleText:m.toString()}},instanceKey:h}),function(){return r("QPLUserFlow").endSuccess(r("qpl")._(1056846286,"652"),{instanceKey:h})}},C=[h,m],t[1]=m,t[2]=y,t[3]=C):(y=t[2],C=t[3]),c(y,C);var b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=r("gkx")("4425")?s("428841"):s("212797"),t[4]=b):b=t[4];var v=b,S;t[5]===Symbol.for("react.memo_cache_sentinel")?(S=r("gkx")("4425")?{props:{src:s("1745665")},type:"image"}:{props:{color:"negative",icon:r("MWXIconCautionTriangle"),size:24},type:"icon"},t[5]=S):S=t[5];var R=S,L;t[6]!==a?(L=a!=null?a:r("gkx")("23219")?{props:{src:v},type:"image"}:R,t[6]=a,t[7]=L):L=t[7];var E=n===!0?d.hasNoMargin:void 0,k;return t[8]!==i||t[9]!==l||t[10]!==m||t[11]!==p||t[12]!==_||t[13]!==f||t[14]!==L||t[15]!==E?(k=u.jsx("div",{"data-testid":void 0,children:u.jsx(r("MWXQPCard.react"),{addOnPrimary:l,addOnSecondary:f,body:i,headline:m,icon:L,onClose:p,ref:_,xstyle:E})}),t[8]=i,t[9]=l,t[10]=m,t[11]=p,t[12]=_,t[13]=f,t[14]=L,t[15]=E,t[16]=k):k=t[16],k}l.default=m}),98);
__d("MAWUserVisibleErrorsNuxWrapper.react",["fbt","CometPlaceholder.react","MAWIssueNewUserVisibleErrors","MAWUnsupportedIndexedDBNuxKey","cr:4216","cr:9767","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors","useMAWUnsupportedBrowserNUX"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useState,p=r("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MAWUserVisibleErrorsNuxWrapper.react");function _(e){var t=o("react-compiler-runtime").c(23),a=e.children,i=e.hasNoMargin,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=o("MAWUnsupportedIndexedDBNuxKey").getIsDismissed(),t[0]=l):l=t[0];var c=m(l),d=c[0],_=c[1],g;if(t[1]===Symbol.for("react.memo_cache_sentinel")){var h;g=(h=n("cr:4216").buildUri({cms_id:"597429858389632"}).setDomain("www.facebook.com"))==null||(h=h.setProtocol("https"))==null?void 0:h.toString(),t[1]=g}else g=t[1];var y=g,C;t[2]===Symbol.for("react.memo_cache_sentinel")?(C={label:s._(/*BTDS*/"Learn more"),linkProps:{target:"_blank",url:y}},t[2]=C):C=t[2];var b=C,v=o("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX(),S=v.shouldShowQP,R=m(!1),L=R[0],E=R[1],k=r("useMAWGetUserVisibleErrors")(),I=k[0],T=k[1],D;t[3]!==T||t[4]!==(I==null?void 0:I.errorExtraData)?(D=function(){r("promiseDone")((async function(){if(E(!0),(I==null?void 0:I.errorExtraData)==="MAWEARKeychainDecryptionError"){var e=await p.load();await e.handleEARKeychainError()}return T()})(),f,function(){E(!1)})},t[3]=T,t[4]=I==null?void 0:I.errorExtraData,t[5]=D):D=t[5];var x=D,$;t[6]!==(I==null?void 0:I.errorBodyText)?($=o("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(I==null?void 0:I.errorBodyText),t[6]=I==null?void 0:I.errorBodyText,t[7]=$):$=t[7];var P=$,N;t[8]!==(I==null?void 0:I.errorTitleText)?(N=o("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(I==null?void 0:I.errorTitleText),t[8]=I==null?void 0:I.errorTitleText,t[9]=N):N=t[9];var M=N,w;t[10]!==a||t[11]!==T||t[12]!==d||t[13]!==P||t[14]!==M||t[15]!==I||t[16]!==i||t[17]!==L||t[18]!==x||t[19]!==S?(w=n("cr:9767")&&S&&!d?u.jsx(n("cr:9767"),{hasNoMargin:i,nuxBodyText:o("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsg,nuxButtonProps:b,nuxTitleText:o("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsgTitle,onCloseButtonClick:function(){_(!0),o("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):I&&n("cr:9767")&&M!=null&&P!=null?u.jsx(n("cr:9767"),{nuxBodyText:P,nuxButtonProps:{disabled:L,label:s._(/*BTDS*/"Refresh"),loading:L,onPress:x},nuxTitleText:M,onCloseButtonClick:function(){r("promiseDone")(T())}}):a,t[10]=a,t[11]=T,t[12]=d,t[13]=P,t[14]=M,t[15]=I,t[16]=i,t[17]=L,t[18]=x,t[19]=S,t[20]=w):w=t[20];var A;return t[21]!==w?(A=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWUserVisibleErrorsNuxWrapper",children:w}),t[21]=w,t[22]=A):A=t[22],A}function f(){window.location.reload(!0)}l.default=_}),226);
__d("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react",["cr:1266"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1266")}),98);
__d("MWEBVirtualDevicesContextProvider.react",["MAWOneTimeCodeGating","MWEBVirtualDevicesContext.react","cr:27667","react","react-compiler-runtime","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(16),a=e.children,i=e.hasOtcEligibleDevicesInitialValue,l=e.hsmCreationTimeInitialValue,u=e.offlineDevicesCountInitialValue,c=e.vestaClientIDInitialValue,d=u===void 0?-1:u,m=c!=null?c:void 0,p;t[0]!==l||t[1]!==d||t[2]!==m?(p={hsmCreationTimeInitialValue:l,offlineDevicesCountInitialValue:d,vestaClientIDInitialValue:m},t[0]=l,t[1]=d,t[2]=m,t[3]=p):p=t[3];var _=r("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(p),f=_.hsmCreationTime,g=_.offlineDevicesCount,h=_.vestaClientID,y=n("cr:27667")(),C=y.hasOtcEligibleDevices,b;t[4]!==C||t[5]!==i?(b=o("MAWOneTimeCodeGating").isOneTimeCodeEnabled()&&(i===!0||C),t[4]=C,t[5]=i,t[6]=b):b=t[6];var v=b,S,R=h!=null,L;t[7]!==v||t[8]!==f||t[9]!==g||t[10]!==R||t[11]!==h?(L={virtualDeviceInfo:{doesUserHaveOtcEligibleDevices:v,hsmCreationTime:f,isPINCodeRegistered:R,offlineDevicesCount:g,vestaClientID:h}},t[7]=v,t[8]=f,t[9]=g,t[10]=R,t[11]=h,t[12]=L):L=t[12],S=L;var E=S,k;return t[13]!==a||t[14]!==E?(k=s.jsx(o("MWEBVirtualDevicesContext.react").MWEBVirtualDevicesContext.Provider,{value:E,children:a}),t[13]=a,t[14]=E,t[15]=k):k=t[15],k}l.default=c}),98);
__d("MWEncryptedBackupsJewelNuxWrapper_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsJewelNuxWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query"}]},{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup",selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null}],storageKey:null}],type:"XFBEncryptedBackup",abstractKey:null};a.exports=e}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded",["CometRelay","react","react-compiler-runtime","useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var r=o("react-compiler-runtime").c(4),a=t.encryptedBackup,i=o("CometRelay").useFragment(e!==void 0?e:e=n("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"),a),l;r[0]!==(i==null?void 0:i.virtual_devices)?(l=function(){var e=0,t=null;return i==null||i.virtual_devices.forEach(function(n){e:switch(n.device_type){case"HSM":{t=n.client_generated_id;break e}case"OFFLINE":{e=e+1;break e}default:}}),{offlineDevicesCount:e,vestaClientID:t}},r[0]=i==null?void 0:i.virtual_devices,r[1]=l):l=r[1],i==null||i.virtual_devices;var s=l,u;return r[2]!==s?(u={getVirtualDevices:s},r[2]=s,r[3]=u):u=r[3],u}l.default=c}),98);
__d("MWEncryptedBackupsJewelNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","HeroInteractionIgnoreWithDiv.react","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEBVirtualDevicesContextProvider.react","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsJewelNuxWrapper_query.graphql","MWEncryptedBackupsThreadListQPWrapper.react","cr:10269","cr:12316","cr:20045","cr:2046","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=o("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(r("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapper.react"));function d(t){var a,i,l=o("react-compiler-runtime").c(19),s=t.children,c=t.query,d=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEncryptedBackupsJewelNuxWrapper_query.graphql"),c),p;l[0]!==d?(p={entrypoint:r("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST,query:d},l[0]=d,l[1]=p):p=l[1];var _=r("useEncryptedBackupsProcessStatePreLoaded")(p),f=d==null?void 0:d.xfb_backup,g;l[2]!==f?(g={encryptedBackup:f},l[2]=f,l[3]=g):g=l[3];var h=r("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(g),y=h.getVirtualDevices,C;l[4]!==y?(C=y(),l[4]=y,l[5]=C):C=l[5];var b=C,v=b.offlineDevicesCount,S=b.vestaClientID,R=(a=d==null||(i=d.xfb_backup)==null?void 0:i.has_otc_eligible_devices)!=null?a:void 0,L=d.viewer.if_viewer_can_see_messenger_eb_auto_eb_upsells!=null,E;l[6]!==_||l[7]!==s||l[8]!==d||l[9]!==L?(E=u.jsx(m,{backupState:_,children:s,fragment:d,isUserEligibleForAutoEB:L}),l[6]=_,l[7]=s,l[8]=d,l[9]=L,l[10]=E):E=l[10];var k;l[11]!==d.viewer||l[12]!==E?(k=u.jsx(o("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContextProvider,{viewer$key:d.viewer,children:E}),l[11]=d.viewer,l[12]=E,l[13]=k):k=l[13];var I;return l[14]!==v||l[15]!==R||l[16]!==k||l[17]!==S?(I=u.jsx(r("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:R,offlineDevicesCountInitialValue:v,vestaClientIDInitialValue:S,children:k}),l[14]=v,l[15]=R,l[16]=k,l[17]=S,l[18]=I):I=l[18],I}function m(e){var t=o("react-compiler-runtime").c(15),a=e.backupState,i=e.children,l=e.fragment,s=e.isUserEligibleForAutoEB,d=s===void 0?!1:s,m=o("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices(),p=m.virtualDeviceInfo;switch(a){case 3:{if(n("cr:12316")!=null&&!p.isPINCodeRegistered){var _;return t[0]!==i?(_=u.jsx(n("cr:12316"),{bannerSource:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,source:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:i}),t[0]=i,t[1]=_):_=t[1],_}return i}case 4:{var f;return t[2]!==i||t[3]!==l?(f=n("cr:2046")||r("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")?u.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:u.jsx(r("CometErrorBoundary.react"),{fallback:function(){return i},children:r("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")!=null?u.jsx(r("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react"),{trigger:o("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:i}):n("cr:2046")!=null&&u.jsx(n("cr:2046"),{fragmentKey:l,trigger:o("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:i})})}):i,t[2]=i,t[3]=l,t[4]=f):f=t[4],f}case 2:{if(o("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS||d)return i;var g;t[5]!==i?(g=n("cr:20045")?u.jsx(n("cr:20045"),{source:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:i}):i,t[5]=i,t[6]=g):g=t[6];var h=g,y;t[7]!==h?(y=function(){return h},t[7]=h,t[8]=y):y=t[8];var C;t[9]!==h||t[10]!==l.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells?(C=l.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null?u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:u.jsx(o("CometRelay").MatchContainer,{match:l.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{bannerSource:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,children:h,qpSource:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP}})}):n("cr:10269")?u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:u.jsx(n("cr:10269"),{source:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:h})}):u.jsx(c,{fallback:h,props:{children:h,source:r("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP,trigger:o("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL}}),t[9]=h,t[10]=l.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,t[11]=C):C=t[11];var b;return t[12]!==y||t[13]!==C?(b=u.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:u.jsx(r("CometErrorBoundary.react"),{fallback:y,children:C})}),t[12]=y,t[13]=C,t[14]=b):b=t[14],b}default:return i}}l.default=d}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferredWithEBCheck.react",["cr:9938"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9938")}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","promiseDone","react","react-compiler-runtime","setInterval","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=c.useCallback,m=c.useEffect,p=c.useMemo,_=c.useRef,f=c.useState,g=1e3*60*60,h=g*3;function y(e){return(u||(u=o("I64"))).add(u.lsl_(u.of_float(e[0]),32),u.of_float(e[1]))}function C(e){return[(u||(u=o("I64"))).to_float(u.lsr_(e,32)),u.to_float(u.and_(e,u.of_int32(4294967295)))]}function b(t,n){var a=o("react-compiler-runtime").c(32),l=(e||(e=r("useReStore")))(),s=_(null),c="__"+t+".fromTimestampMs__",d;a[0]===Symbol.for("react.memo_cache_sentinel")?(d=C((u||(u=o("I64"))).of_float(o("ServerTime").getMillis()-h)),a[0]=d):d=a[0];var p=d,b=f(p),S=b[0],R=b[1],L=_(S),E,k;a[1]!==S?(E=function(){L.current=S},k=[S],a[1]=S,a[2]=E,a[3]=k):(E=a[2],k=a[3]),m(E,k);var I=_(!1),T,D;a[4]===Symbol.for("react.memo_cache_sentinel")?(D=r("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],a[4]=D):D=a[4];var x=D,$;a[5]!==t?($=r("MetaConfig")._("95")||t==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],a[5]=t,a[6]=$):$=a[6];var P=$,N;a[7]!==P?(N=[].concat(x,P),a[7]=P,a[8]=N):N=a[8],T=N;var M=T,w;a[9]!==l||a[10]!==c||a[11]!==M?(w=function(){M.length>0&&r("promiseDone")(r("MessengerAsyncStorage").getItem(c).then(function(e){if(e!=null){var t=JSON.parse(e);t!=null&&r("promiseDone")(l.runInTransaction(function(e){return r("LSVerifyThreadsActivityStatusStoredProcedure")(r("LSFactory")(e),{fromTimestampMs:y(t),serverMode:r("LSVec").ofArray(M),threads:new(r("LSDict"))([])})},"readwrite",void 0,void 0,i.id+":98"))}}).catch(v),function(){I.current=!0;var e=C((u||(u=o("I64"))).of_float(o("ServerTime").getMillis()));r("promiseDone")(r("MessengerAsyncStorage").setItem(c,JSON.stringify(e)),function(){R(e)})})},a[9]=l,a[10]=c,a[11]=M,a[12]=w):w=a[12];var A=w,F;a[13]===Symbol.for("react.memo_cache_sentinel")?(F=function(){s.current!=null&&(r("clearInterval")(s.current),s.current=null)},a[13]=F):F=a[13];var O=F,B;a[14]!==A?(B=function(){if(s.current==null&&r("MetaConfig")._("96")){var e;s.current=r("setInterval")(A,(e=r("MetaConfig")._("43"))!=null?e:g)}},a[14]=A,a[15]=B):B=a[15];var W=B,q;a[16]!==W||a[17]!==A?(q=function(){var e,t=o("ServerTime").getMillis()-(u||(u=o("I64"))).to_float(y(L.current));s.current==null&&W(),t>=((e=r("MetaConfig")._("43"))!=null?e:g)&&A()},a[16]=W,a[17]=A,a[18]=q):q=a[18];var U=q,V;a[19]!==U||a[20]!==n?(V=function(){o("VisibilityAPI").isVisibilityHidden()?O():n&&r("MetaConfig")._("97")&&U()},a[19]=U,a[20]=n,a[21]=V):V=a[21];var H=V,G;a[22]!==W||a[23]!==A||a[24]!==H?(G=function(){var e=null;return I.current||(A(),o("VisibilityAPI").canUseVisibilityAPI&&(e=o("VisibilityAPI").onVisibilityChange(H)),W()),function(){e!=null&&o("VisibilityAPI").removeVisibiltyChangeListener(e),s.current!=null&&(r("clearInterval")(s.current),s.current=null)}},a[22]=W,a[23]=A,a[24]=H,a[25]=G):G=a[25];var z;a[26]!==U||a[27]!==W||a[28]!==n||a[29]!==A||a[30]!==H?(z=[O,U,W,n,A,H],a[26]=U,a[27]=W,a[28]=n,a[29]=A,a[30]=H,a[31]=z):z=a[31],m(G,z)}function v(e){r("FBLogger")("messenger_web").catching(e).mustfix("Failed to set timestamp for thread activity status")}l.default=b}),98);
__d("useMWInboxContextSwitcherFilterPreloaderCond",["cr:4651","emptyFunction","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){var a=o("react-compiler-runtime").c(1),i;return a[0]===Symbol.for("react.memo_cache_sentinel")?(i={onHoverIn:r("emptyFunction"),onHoverOut:r("emptyFunction"),onPressIn:r("emptyFunction")},a[0]=i):i=a[0],i}var u=(e=n("cr:4651"))!=null?e:s,c=u;l.default=c}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSIntEnum","LSThreadRangeFilter","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","MWVerticalRhythm","Promise","gkx","promiseDone","react","react-compiler-runtime","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useMWInboxContextSwitcherFilterPreloaderCond","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["filter","hasNewContentBadge","isShown","logClick","odsAction","overrideTabChange","ref"],u,c,d,m,p,_=p||(p=o("react")),f=p.useEffect,g={tabContainerWithFilters:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xwn43p0",paddingInlineEnd:"x1x5flf6",paddingLeft:null,paddingRight:null,$$css:!0},tabWithFilters:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(29),a=t.entryPoint,l=t.onTabChange,u=t.parentThreadKey,p=t.selectedFilterTab,h=t.showMessageRequests,b=t.showNestedFolderThreads,v=(c||(c=r("useReStore")))();r("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",a==="inbox");var S,R;n[0]!==v?(S=function(){r("promiseDone")(v.runInTransaction(C,"readwrite",void 0,void 0,i.id+":83"))},R=[v],n[0]=v,n[1]=S,n[2]=R):(S=n[1],R=n[2]),f(S,R);var L=r("useHasUnjoinedCMThreads")(),E=o("MWInboxPersistedUIState").usePersistedUIState(L,"__MWInboxContextSwitcher.hasViewedSuggestedChats__"),k=E[0],I=E[1],T;n[3]===Symbol.for("react.memo_cache_sentinel")?(T=(d||(d=o("LSIntEnum"))).ofNumber(0),n[3]=T):T=n[3];var D=o("MWChatBadgeCountUpdates.react").useUnseenThreadCount(T),x=D!=null&&D>0,$=o("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads(),P=L&&!k,N=a==="jewel"?"jewel_tray":"messenger_inbox",M=a==="inbox"?"jewel_inbox":"chats_inbox",w;n[4]!==M||n[5]!==N?(w={onImpressionStart:function(){o("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:M,source:"blended_threadlist_community_tab",surface:N})}},n[4]=M,n[5]=N,n[6]=w):w=n[6];var A=r("useSinglePartialViewImpression")(w),F;n[7]===Symbol.for("react.memo_cache_sentinel")?(F=(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY),n[7]=F):F=n[7];var O=r("useMWInboxContextSwitcherFilterPreloaderCond")(v,u,F),B=O.onPressIn,W;n[8]===Symbol.for("react.memo_cache_sentinel")?(W=(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY),n[8]=W):W=n[8];var q=r("useMWInboxContextSwitcherFilterPreloaderCond")(v,u,W),U=q.onPressIn,V;if(n[9]!==a||n[10]!==L||n[11]!==P||n[12]!==$||n[13]!==x||n[14]!==k||n[15]!==A||n[16]!==B||n[17]!==U||n[18]!==l||n[19]!==M||n[20]!==p||n[21]!==I||n[22]!==h||n[23]!==b||n[24]!==N){var H=[{filter:(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE),hasNewContentBadge:x,isShown:!0,label:s._(/*BTDS*/"All"),odsAction:"inbox_tab_click"},{filter:d.ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY),hasNewContentBadge:!1,isShown:!0,label:s._(/*BTDS*/"Unread"),odsAction:"unread_tab_click",onPressIn:U},{filter:d.ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY),hasNewContentBadge:!1,isShown:!0,label:s._(/*BTDS*/"Groups"),odsAction:"groups_tab_click",onPressIn:B}].concat(r("gkx")("2165")?[{filter:(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES),hasNewContentBadge:$||P,isShown:!0,label:s._(/*BTDS*/"Communities"),logClick:function(){o("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:M,source:"blended_threadlist_community_tab",surface:N})},odsAction:"communities_tab_click",ref:A}]:[],r("gkx")("6437")?[{filter:(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").DRAFTS),hasNewContentBadge:!1,isShown:!0,label:s._(/*BTDS*/"Drafts"),odsAction:"drafts_tab_click"}]:[],r("gkx")("17132")?[{filter:(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").MARKETPLACE),hasNewContentBadge:!1,isShown:!0,label:s._(/*BTDS*/"Marketplace"),odsAction:"marketplace_tab_click",overrideTabChange:function(){b!=null&&b((d||(d=o("LSIntEnum"))).ofNumber(-12))}},{filter:(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").MESSAGE_REQUESTS),hasNewContentBadge:!1,isShown:!0,label:s._(/*BTDS*/"Message requests"),odsAction:"message_request_tab_click",overrideTabChange:function(){h==null||h()}}]:[]);V=H.filter(y).map(function(t,n){var i=t.filter,s=t.hasNewContentBadge,u=t.isShown,c=t.logClick,_=t.odsAction,f=t.overrideTabChange,h=t.ref,y=babelHelpers.objectWithoutPropertiesLoose(t,e);return babelHelpers.extends({},y,{hasNewContentBadge:s,onPress:function(){if((m||(m=o("I64"))).equal(i,(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES))&&L&&!k&&I(!0),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+a,_),c==null||c(),f!=null){f();return}l(i)},ref:h,selected:(m||(m=o("I64"))).equal(i,p),testid:(m||(m=o("I64"))).equal(i,(d||(d=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES))?"communities_tab":void 0,xstyle:g.tabWithFilters})}),n[9]=a,n[10]=L,n[11]=P,n[12]=$,n[13]=x,n[14]=k,n[15]=A,n[16]=B,n[17]=U,n[18]=l,n[19]=M,n[20]=p,n[21]=I,n[22]=h,n[23]=b,n[24]=N,n[25]=V}else V=n[25];var G=V;if(G.length<=1){var z;return n[26]===Symbol.for("react.memo_cache_sentinel")?(z=_.jsx(r("MWVerticalRhythm"),{height:8}),n[26]=z):z=n[26],z}var j;return n[27]!==G?(j=_.jsx(r("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:G,tabsContainerStyle:g.tabContainerWithFilters}),n[27]=G,n[28]=j):j=n[28],j}function y(e){return e.isShown}function C(e){return(u||(u=n("Promise"))).resolve()}l.default=h}),226);
__d("useHasOTCEligibleDevicesFromReStore",["MAWOneTimeCodeGating","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(8),n=(e||(e=r("useReStore")))(),a;t[0]!==n.tables.encrypted_backups?(a=function(){return o("ReQL").fromTableAscending(n.tables.encrypted_backups)},t[0]=n.tables.encrypted_backups,t[1]=a):a=t[1];var l;t[2]!==n?(l=[n],t[2]=n,t[3]=l):l=t[3];var s=o("ReQLSuspense").useFirst(a,l,i.id+":21"),u;t[4]!==s?(u=s==null||!o("MAWOneTimeCodeGating").isOneTimeCodeEnabled()?!1:s.hasOtcEligibleDevices,t[4]=s,t[5]=u):u=t[5];var c;return t[6]!==u?(c={hasOtcEligibleDevices:u},t[6]=u,t[7]=c):c=t[7],c}l.default=s}),98);
__d("useMWInboxContextSwitcherFilterPreloader",["MWPBaseThreadListHooks","MWPBaseThreadListUtils","react","react-compiler-runtime","useCometPreloader"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo;function d(e,t,n){var a=o("react-compiler-runtime").c(12),i=o("MWPBaseThreadListHooks").useMWPBaseThreadListDefaultThreadsRange(e,t,n),l;a[0]!==e||a[1]!==i||a[2]!==n||a[3]!==t?(l=function(){i==null&&o("MWPBaseThreadListUtils").loadMoreThreadsForEmptyRangeDefault(e,t,n)},a[0]=e,a[1]=i,a[2]=n,a[3]=t,a[4]=l):l=a[4];var s=l,u=r("useCometPreloader")("button",s,s),c=u.onHighIntentPreloader,d=u.onHoverInPreloader,m=u.onHoverOutPreloader,p=u.onPressInPreloader,_,f;a[5]!==c||a[6]!==d?(f=function(t){d(t),c(!0)},a[5]=c,a[6]=d,a[7]=f):f=a[7];var g;return a[8]!==m||a[9]!==p||a[10]!==f?(g={onHoverIn:f,onHoverOut:m,onPressIn:p},a[8]=m,a[9]=p,a[10]=f,a[11]=g):g=a[11],_=g,_}l.default=d}),98);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["FDSBadge.react","react","react-compiler-runtime","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(){var e=o("react-compiler-runtime").c(5),t=r("useMAWSecurityAlertsPreferences")(),n=t.securityAlertsPreferences,a=o("useDeviceAlertCount").useDeviceAlertCount();n==null||n.allowSecurityAlertForSelf;var i,l;e[0]!==(n==null?void 0:n.allowSecurityAlertForSelf)||e[1]!==a?(l=n!=null&&n.allowSecurityAlertForSelf&&a>0?s.jsx("div",{className:"x12u5thl x10l6tqk x12ibf10",children:s.jsx(r("FDSBadge.react"),{testid:void 0})}):null,e[0]=n==null?void 0:n.allowSecurityAlertForSelf,e[1]=a,e[2]=l):l=e[2];var u;return e[3]!==l?(u={badge:l},e[3]=l,e[4]=u):u=e[4],i=u,i}l.default=c}),98);