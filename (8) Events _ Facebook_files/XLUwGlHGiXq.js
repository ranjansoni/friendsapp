;/*FB_PKG_DELIM*/

__d("BroadcastChat.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"5 5 25 25",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",d:"M18 28.07c6.393 0 11-4.467 11-10.57v-.002C29 11.396 24.393 7 18 7S7 11.396 7 17.498v.002c0 2.091.414 3.98 1.383 5.562.458.747.564 1.664.29 2.5l-.727 2.411c-.2.614.373 1.188.964.986l3.668-1.126a4.261 4.261 0 0 1 2.39-.09c.952.233 1.966.328 3.032.328zm0-8.27a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm4.31-5.888a.75.75 0 0 1 1.06.008l.176.179a5.293 5.293 0 0 1 0 7.402l-.175.178a.75.75 0 0 1-1.061.01l-.357-.351a.75.75 0 0 1-.008-1.061l.175-.178a3.293 3.293 0 0 0 0-4.598l-.175-.178a.75.75 0 0 1 .008-1.06l.357-.351zm-8.255 1.411a.75.75 0 0 0-.008-1.06l-.357-.351a.75.75 0 0 0-1.06.008l-.176.179a5.293 5.293 0 0 0 0 7.402l.175.178a.75.75 0 0 0 1.061.01l.357-.351a.75.75 0 0 0 .008-1.061l-.175-.178a3.293 3.293 0 0 1 0-4.598l.175-.178z",clipRule:"evenodd"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9578991145469240"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};l.default=e}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("limit",e[0]),r[1]=t.createArray(),r[5]=(r[1].push("search_contacts"),r[1]),r[2]=t.i64.of_float(Date.now()),r[5]=(r[1].push(t.i64.to_string(r[2])),r[1]),r[3]=t.toJSON(r[1]),r[4]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),r[3],t.i64.cast([0,452]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSSearchInsertRankingContactsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSInsertRankingContacts"),a.limit);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2}),l=e;i.default=l}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2}),l=e;i.default=l}),66);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometTypeaheadViewItem.react","FDSSkittleIcon.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.entry,a=e.icon,i=e.onHighlightEntry,l=e.onPressEntry,u=e.title,c;t[0]!==a?(c=s.jsx(r("FDSSkittleIcon.react"),{color:"gray",icon:a,size:36}),t[0]=a,t[1]=c):c=t[1];var d=c,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x3ct3a4 xexx8yu x1icxu4v x18d9i69 x25sj25"},t[2]=m):m=t[2];var p;t[3]!==u?(p=s.jsx(r("MWXText.react"),{type:"body3",children:u}),t[3]=u,t[4]=p):p=t[4];var _;return t[5]!==n||t[6]!==d||t[7]!==i||t[8]!==l||t[9]!==p?(_=s.jsx("div",babelHelpers.extends({},m,{role:"listbox",children:s.jsx(r("CometTypeaheadViewItem.react"),{entry:n,isActive:!1,itemStartContent:d,onHighlightEntry:i,onPressEntry:l,role:"option",children:p})})),t[5]=n,t[6]=d,t[7]=i,t[8]=l,t[9]=p,t[10]=_):_=t[10],_}l.default=u}),98);
__d("MWCreateBroadcastChannelDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10056616957724259"}),null);
__d("MWCreateBroadcastChannelDialogQuery$Parameters",["MWCreateBroadcastChannelDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWCreateBroadcastChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCreateBroadcastChannelDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23896442089962141"}),null);
__d("MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters",["MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWQuickPromotionCreateBroadcastChannelNuxQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionCreateBroadcastChannelNuxQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWQuickPromotionCreateBroadcastChannelNux.entrypoint",["JSResourceForInteraction","MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{broadcastChannelQueryRef:{parameters:r("MWQuickPromotionCreateBroadcastChannelNuxQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWQuickPromotionCreateBroadcastChannelNux.react").__setRef("MWQuickPromotionCreateBroadcastChannelNux.entrypoint")},s=e;l.default=s}),98);
__d("MWCreateBroadcastChannelDialog.entrypoint",["JSResourceForInteraction","MWCreateBroadcastChannelDialogQuery$Parameters","MWQuickPromotionCreateBroadcastChannelNux.entrypoint","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{entryPoints:{nuxEntryPoint:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("MWQuickPromotionCreateBroadcastChannelNux.entrypoint"),entryPointParams:{}})},queries:{queryReference:{parameters:r("MWCreateBroadcastChannelDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWCreateBroadcastChannelDialog.react").__setRef("MWCreateBroadcastChannelDialog.entrypoint")};l.default=e}),98);
__d("MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react",["fbt","BroadcastChannelQPL","BroadcastChat.svg.react","MWChatSearchTypeheadActionButtonViewItem.react","MWCreateBroadcastChannelDialog.entrypoint","MWLogBroadcastChannelFalcoEvent","emptyFunction","react","react-compiler-runtime","useBroadcastChannelImpressionLogger","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(9),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Create channel"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={},e[1]=a):a=e[1];var i=r("useMWXEntryPointDialog")(r("MWCreateBroadcastChannelDialog.entrypoint"),a),l=i[0],c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c={clientExtras:{entry_point:"public_chats:omnipicker"},event:161,parentSurface:7,source:20,surface:4},e[2]=c):c=e[2];var m=r("useBroadcastChannelImpressionLogger")(c),p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p={key:"newBroadcastChannel",label:"New Broadcast Channel",type:"entry"},e[3]=p):p=e[3];var _;e[4]!==l?(_=u.jsx(r("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:p,icon:r("BroadcastChat.svg.react"),onHighlightEntry:r("emptyFunction"),onPressEntry:function(){o("BroadcastChannelQPL").logCreateBroadcastChannelQPLStart("public_chats:omnipicker"),o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({clientExtras:{entry_point:"public_chats:omnipicker"},event:95,parentSurface:7,source:20,surface:4}),l({},d)},title:n}),e[4]=l,e[5]=_):_=e[5];var f;return e[6]!==m||e[7]!==_?(f=u.jsx("div",{ref:m,children:_}),e[6]=m,e[7]=_,e[8]=f):f=e[8],f}function d(){}l.default=c}),226);
__d("MessengerGroup.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 26 19",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("gkx")("23433"),n=null;return e!==void 0&&(e==="Inbox"?n=t?"messengerdotcom":"fb_groups:comet_www_inbox":e==="ChatTab"?n="fb_groups:comet_www_chat":e==="FullscreenChat"&&(n="fb_groups:comet_www_fullscreen_chat")),n}l.default=e}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=n("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function d(){var e=o("react-compiler-runtime").c(14),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={},e[0]=t):t=e[0];var n=r("useMWXEntryPointDialog")(r("GroupsCometGlobalChatCreationDialog.entrypoint"),t),a=n[0],i=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),l=r("useMWLoggerEntrypoint")(i),d=o("LSThreadAttributionStore").getSourceForNewThread(),p=d==="chatheadsNewMessage"?c.CHAT_HEAD:d==="jewelNewMessage"?c.JEWEL:null,_=l!=null?l:"",f;e[1]!==_?(f={client_extras:{entry_point:_,origin:p!=null?p:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"},e[1]=_,e[2]=f):f=e[2];var g=r("useGroupsCometChatsEngagementImpressionLogger")(f),h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h={key:"newCommunityChat",label:"New Community Chat",type:"entry"},e[3]=h):h=e[3];var y;e[4]!==i||e[5]!==l||e[6]!==a?(y=function(){a({entrypoint:l!=null?l:void 0,shouldCloseComposeTab:i==="ChatTab",shouldGoToMessenger:i==="Inbox"},m),o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:l!=null?l:"",origin:p!=null?p:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},e[4]=i,e[5]=l,e[6]=a,e[7]=y):y=e[7];var C;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Create community chat"),e[8]=C):C=e[8];var b;e[9]!==y?(b=u.jsx(r("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:h,icon:r("MessengerGroup.svg.react"),onHighlightEntry:r("emptyFunction"),onPressEntry:y,title:C}),e[9]=y,e[10]=b):b=e[10];var v;return e[11]!==g||e[12]!==b?(v=u.jsx("div",{ref:g,children:b}),e[11]=g,e[12]=b,e[13]=v):v=e[13],v}function m(){}l.default=d}),226);
__d("MWCMLightSpeedChatTabActionViewItems.react",["BaseDivider.react","MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","MWPActor.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={divider:{marginTop:"x1xmf6yo",marginInlineEnd:"x1ys307a",marginBottom:"x1e56ztr",marginInlineStart:"xyqm7xq",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(2),t=r("gkx")("4710"),n=r("gkx")("24048"),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("MWPActor.react").isPromode(),e[0]=a):a=e[0];var i=a,l=n||i,c=!t||l,d=i||n,m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(m=c?s.jsxs(s.Fragment,{children:[!t&&s.jsx(r("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),d&&s.jsx(r("MWChatSearchTypeaheadCreateBroadcastChannelActionButtonViewItem.react"),{}),s.jsx(r("BaseDivider.react"),{xstyle:u.divider})]}):null,e[1]=m):m=e[1],m}l.default=c}),98);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","MNetContactItemType","MWChatTemporarySearchResult","ReQL"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"],u,c,d=3;async function m(e,t){return(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(15))?[]:_(await p(e,d))}async function p(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.cm_search_nullstate_metadata).filter(function(e){return(u||(u=o("I64"))).equal(e.threadType,(c||(c=o("LSIntEnum"))).ofNumber(18))}));return n.sort(function(e,t){var n=e.score,r=t.score;return n===r?0:n>r?1:-1}).slice(0,t)}function _(t){return t.map(function(t,n){var a,i,l=t.communityId,d=t.contextLine,m=t.score,p=t.scoreType,_=t.secondaryThreadPictureUrl,f=t.secondaryThreadPictureUrlFallback,g=t.threadKey,h=t.threadName,y=t.threadPictureUrl,C=t.threadPictureUrlFallback,b=t.threadType,v=babelHelpers.objectWithoutPropertiesLoose(t,e),S={contactId:g,contactType:(c||(c=o("LSIntEnum"))).ofNumber(r("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:m,scoreIndex:(u||(u=o("I64"))).of_int32(n),scoreType:p};return{communityId:l!=null?(u||(u=o("I64"))).to_string(l):"",displayName:h,id:u.to_string(g),imageUrl:(a=y!=null?y:_)!=null?a:"",isAiBot:u.equal(b,c.ofNumber(201)),isContact:o("LSMessagingThreadTypeUtil").isOneToOne(b),isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(b),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,rankingScore:S,resultType:o("MWChatTemporarySearchResult").getResultType(c.ofNumber(13)),searchSource:"server",secondaryImageUrl:(i=_!=null?_:f)!=null?i:"",section:s._(/*BTDS*/"Your channels").toString(),subtext:d!=null?d:"",threadKey:g,threadType:b}})}l.fetchCCs=m,l.mapToSearchResults=_}),226);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=3;async function c(t,n){return(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(15))?[]:m(await d(t,u))}async function d(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.ai_bot_search_metadata));return n.sort(function(e,t){var n=e.score,r=t.score;return n===r?0:n>r?1:-1}).slice(0,t)}function m(t){return t.map(function(t,n){var a=t.botId,i=t.contactViewerRelationship,l=t.contextLine,u=t.displayName,c=t.displayPictureUrl,d=t.score,m={contactId:a,contactType:(s||(s=o("LSIntEnum"))).ofNumber(r("MNetContactItemType").BOT),score:d,scoreIndex:(e||(e=o("I64"))).of_int32(n),scoreType:s.ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:u,id:e.to_string(a),imageUrl:c!=null?c:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,isViewerUnconnected:e.equal(i,s.ofNumber(r("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:m,resultType:r("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:o("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:l!=null?l:"",threadKey:a,threadType:e.of_int32(201)}})}l.fetchGenAIBots=c,l.mapToSearchResults=m}),98);
__d("MWPOfllineOpenMiniSearchSingleton",["MWPMiniSearch"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWPMiniSearch").createMiniSearchSingleton(function(){return{storeFields:["category"]}}),s=e;l.default=s}),98);
__d("MWPSearchOfflineOpenConversations",["MWPOfllineOpenMiniSearchSingleton"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("MWPOfllineOpenMiniSearchSingleton").getInstance().search(e)}function s(e){r("MWPOfllineOpenMiniSearchSingleton").getInstance().add(e)}function u(e){r("MWPOfllineOpenMiniSearchSingleton").getInstance().remove(e)}l.search=e,l.add=s,l.remove=u}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(t,n,r,o,a,i){"use strict";var e="Contact",l="ThreadName",s="ThreadParticipant",u={Contact:e,ThreadName:l,ThreadParticipant:s};i.MWPSearchType=u}),66);
__d("MWSearchQPLLogger",["MAWLoggerUtils","QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e={hasStarted:!1,instanceKey:o("MAWLoggerUtils").getInstanceKey(),query:null,sessionInstanceId:null},s=r("qpl")._(25301700,"2966");function u(){e.hasStarted=!1,e.query=null}function c(t){var n,a=t.queryString,i=t.sessionInstanceId,l=t.surface;return e.query!=null&&a===""||(e.hasStarted&&d(),e.instanceKey=o("MAWLoggerUtils").getInstanceKey(),e.hasStarted=!0,e.query=a!=null?a:"",e.sessionInstanceId=i,r("QPLUserFlow").start(s,{instanceKey:e.instanceKey}),p({annotations:{int:{query_length:(n=a==null?void 0:a.length)!=null?n:0},string:{surface:l}}})),e.instanceKey}function d(t){e.hasStarted&&(r("QPLUserFlow").endCancel(s,{annotations:{string:{end_action:t!=null?t:"unknown"}},instanceKey:e.instanceKey}),u())}function m(t){var n=t.annotations,o=t.point;e.hasStarted&&(r("QPLUserFlow").addPoint(s,o,{instanceKey:e.instanceKey}),n!=null&&r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e.instanceKey}))}function p(t){var n=t.annotations;e.hasStarted&&r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e.instanceKey})}function _(t){var n=t.queryString,o=t.renderIndex,a=t.sessionInstanceId,i=t.source;e.hasStarted&&a===e.sessionInstanceId&&n===e.query&&r("QPLUserFlow").addPoint(s,"render_search_result_"+o,{data:{int:{render_index:o},string:{source:i!=null?i:"unknown"}},instanceKey:e.instanceKey})}function f(){e.hasStarted&&(r("QPLUserFlow").endSuccess(s,{instanceKey:e.instanceKey}),u())}l.qplStart=c,l.qplCancel=d,l.qplAddPoint=m,l.qplAddAnnotations=p,l.renderSearchResult=_,l.qplSuccess=f}),98);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","MWSearchQPLLogger","MWSearchThreadUtils","ReQL","gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("justknobx")._("5018");function c(t,n){return"p__"+(e||(e=o("I64"))).to_string(t)+"__"+e.to_string(n)}function d(e,t){if(o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"offline_search_start"}),f.contents==null)return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{string:{offline_search_end_reason:"initial_index_not_started"}},point:"offline_search_end"}),Promise.resolve([]);var n=f.contents,a=o("MWPSearchOfflineOpenConversations").search(e).filter(function(e){return g(e,t)!==!0});return r("gkx")("6792")===!0?m(n,a,e):o("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(n,(s||(s=o("LSIntEnum"))).ofNumber(7)).then(function(){return m(n,a,e)})}async function m(t,n,r){var a=_(await Promise.all(n.map(function(n){var a=n.category.type;if(a==null)return Promise.resolve();switch(a){case o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:{var i=h(n.id);if(i!=null){var l=i[0];return v(t,(e||(e=o("I64"))).to_string(l),n.terms)}else return Promise.resolve()}case o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return v(t,n.id,n.terms);case o("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return y(t,n.id,n.terms,r)}}))),i=p(a.filter(Boolean));return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"offline_search_end"}),i}function p(e){var t=e.filter(function(e){return e.resultType!==r("MWChatSearchResultType").GROUP}).sort(R),n=e.filter(function(e){return e.resultType===r("MWChatSearchResultType").GROUP}).sort(R),o=t.concat(n);return o}function _(e){if(!u)return e;var t=[],n=new Set;for(var r of e)r&&!n.has(r.id)&&(n.add(r.id),t.push(r));return t}var f={contents:void 0};function g(e,t){if(t)return!1;var n=e.category;return(n==null?void 0:n.type)!=="Contact"}function h(t){var n=t.split("__");if(n.length===3)return[(e||(e=o("I64"))).of_string(n[1]),e.of_string(n[2])]}async function y(t,n,a,i,l){l===void 0&&(l="offline");var u=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange((e||(e=o("I64"))).of_string(n))),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.ig_contact_info).getKeyRange(e.of_string(n))),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.ranking_scores).getKeyRange(e.of_string(n),(s||(s=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH)))]),c=u[0],d=u[1],m=u[2];if(!(c==null||C(c,i,l)))return o("MWChatTemporarySearchResult").fromContact(m!=null?m:void 0,void 0,c,d!=null?d:void 0,l,a,i)}function C(t,n,a){var i=o("LSContactBitOffset").hasWithDefault(66,t,!1);return t.isMemorialized===!0||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(e||(e=o("I64"))).one)&&a!=="null_state_recent"||!(e||(e=o("I64"))).equal(t.blockedByViewerStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))||i&&b(t.name,n)}function b(e,t,n){n===void 0&&(n=.7);var r=e.trim().toLowerCase(),o=t.trim().toLowerCase(),a=!r.startsWith(o)||o.length/r.length<n;return a}async function v(t,n,r){var a,i=await Promise.all([(a=o("ReQL")).firstExnAsync(a.fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId})),a.firstAsync(a.leftJoin(a.fromTableAscending(t.tables.threads).getKeyRange((e||(e=o("I64"))).of_string(n)).filter(function(e){return!S(e)}),o("ReQL").fromTableAscending(t.tables.ig_thread_info).getKeyRange(e.of_string(n))))]),l=i[0],s=i[1];if(s==null)return Promise.resolve();var u=s[0],c=s[1],d=await Promise.all([o("MWSearchThreadUtils").getThreadPics(u,l,t),o("MWSearchThreadUtils").getThreadParticipants(u,t)]),m=d[0],p=d[1],_={contactId:e.zero,contactType:e.zero,score:e.to_float(u.lastActivityTimestampMs),scoreIndex:e.zero,scoreType:e.zero};return o("MWChatTemporarySearchResult").fromThread(u,"offline",l,m[0],m[1],p,_,r,c)}function S(t){return t.folderName!=="inbox"||o("LSMessagingThreadTypeUtil").isChannelPreview(t.threadType)||o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType)&&o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&(e||(e=o("I64"))).equal(t.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))}function R(e,t){var n=e.rankingScore,r=n!=null?n.score:0,o=t.rankingScore,a=o!=null?o.score:0;return a>r?1:a<r?-1:0}l.getGroupParticipantKey=c,l.search=d,l.searchHelper=m,l.db=f,l.mapContact=y,l.mapThread=v}),98);
__d("MWChatSearchResultTypeMapping",["MWChatSearchResultType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case r("MWChatSearchResultType").GROUP:return 3;case r("MWChatSearchResultType").MESSAGE:return 5;case r("MWChatSearchResultType").PAGE:return 4;case r("MWChatSearchResultType").USER:return 1;case r("MWChatSearchResultType").AI_BOT:return 16}}l.mapMWChatSearchResultTypeToLSSearchType=e}),98);
__d("MWRecentSearchesStorage",["FBLogger","LSIntEnum","MWChatSearchResultTypeMapping","MWSearchStandardResultTypeMappings","WATimeUtils","WebAsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="msgr_web_recent_searches";function u(t){var n;if(((n=t.rawData.serverSearchResult)==null?void 0:n.type_)!=null)return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t.rawData.serverSearchResult.type_);var r=t.rawData.searchResultType!=null?o("MWSearchStandardResultTypeMappings").mapSearchStandardResultTypeToLSSearchType(t.rawData.searchResultType):void 0;return r!=null?(e||(e=o("LSIntEnum"))).unwrapIntEnum(r):o("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(t.rawData.resultType)}function c(t,n){var r;if(((r=t.rawData.serverSearchResult)==null?void 0:r.threadType)!=null)return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t.rawData.serverSearchResult.threadType);if(t.rawData.threadType!=null)return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t.rawData.threadType);if(n===3)return t.rawData.isE2EE===!0?16:2}function d(e){var t=u(e);return{key:e.key,lastAccessedTimestamp:o("WATimeUtils").unixTime(),searchResultType:t,threadType:c(e,t)}}async function m(e){var t=await p(),n=t.find(function(t){return t.key===e.key});return n!=null?n.lastAccessedTimestamp=o("WATimeUtils").unixTime():t.push(d(e)),new Promise(function(e){r("WebAsyncStorage").setItem(s,JSON.stringify(t),function(t){t!=null&&r("FBLogger")("messenger_web_search").mustfix("Error setting recent searches. %s",t.toString()),e()})})}function p(){return new Promise(function(e){r("WebAsyncStorage").getItem(s,function(t,n){if(t!=null)return r("FBLogger")("messenger_web_search").mustfix("Error getting recent searches. Error msg: %s",t.message),e([]);if(n==null)return e([]);try{var o=JSON.parse(n);return e(o.sort(function(e,t){return t.lastAccessedTimestamp-e.lastAccessedTimestamp}))}catch(t){return r("FBLogger")("messenger_web_search").mustfix("Error parsing recent searches"),e([])}})})}function _(e){return new Promise(function(t){r("WebAsyncStorage").getItem(s,function(n,o){if(n!=null)return r("FBLogger")("messenger_web_search").mustfix("Error getting recent searches. Error msg: %s",n.message),t();if(o==null)return t();try{var a=JSON.parse(o),i=a.filter(function(t){return t.key!==e});return r("WebAsyncStorage").setItem(s,JSON.stringify(i),function(e){e!=null&&r("FBLogger")("messenger_web_search").mustfix("Error setting recent searches. %s",e.toString()),t()})}catch(e){return r("FBLogger")("messenger_web_search").mustfix("Error parsing recent searches"),t()}})})}l.upsertRecentSearchEntry=m,l.getAllRecentSearches=p,l.clearRecentSearchItem=_}),98);
__d("MWChatSearchFetchNSRecentSearches",["FBLogger","I64","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSVerifyContactExistsWithID","LSVerifyThreadRowExistsStoredProcedure","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWPSearchOfflineOpenConversationsUtils","MWRecentSearchesStorage","MWSearchStandardResultTypeMappings","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={searchSource:"null_state_recent",section:o("MWChatTemporarySearchResultUtils").getSectionHeaderForRecentSearches(),sectionAnalyticsName:"null_state_recent"},c=4,d={isAiBot:!1,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,subtext:""},m=[1,2,4,16],p=[3,13,14];function _(t,n){var a;return babelHelpers.extends({displayName:(n==null?void 0:n.threadName)||"",id:t.key,imageUrl:"",resultType:r("MWChatSearchResultType").GROUP,searchResultType:o("MWSearchStandardResultTypeMappings").mapLSSearchTypeToSearchStandardResultType((e||(e=o("LSIntEnum"))).ofNumber(t.searchResultType)),threadType:(a=n==null?void 0:n.threadType)!=null?a:t.threadType!=null?(s||(s=o("I64"))).of_int32(t.threadType):void 0},d,u)}async function f(t,n,a){var i=o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n),l=await o("ReQL").firstAsync(i);l==null&&r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(t,function(t){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(t),{syncGroup:(e||(e=o("LSIntEnum"))).ofNumber(1),threadKey:n,threadType:a})},"readwrite"))}async function g(e){var t=await o("MWRecentSearchesStorage").getAllRecentSearches(),n=await Promise.all(t.map(async function(t){if(m.includes(t.searchResultType)){await o("LSVerifyContactExistsWithID").waitForTaskFinish(e,(s||(s=o("I64"))).of_string(t.key),!1);var n=await o("MWPSearchOfflineOpenConversationsUtils").mapContact(e,t.key,[],"","null_state_recent");return n==null?null:babelHelpers.extends({},n,u)}if(p.includes(t.searchResultType)){if(t.threadType!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecureGroup((s||(s=o("I64"))).of_int32(t.threadType)))return null;r("promiseDone")(f(e,(s||(s=o("I64"))).of_string(t.key),t.threadType!=null?(s||(s=o("I64"))).of_int32(t.threadType):void 0));var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(s.of_string(t.key))),i=_(t,a);return i==null?null:babelHelpers.extends({},i,u)}return r("FBLogger")("messenger_web_search").warn("Unknown result type in recent searches: %s",t.searchResultType),Promise.resolve()}));return n.filter(Boolean).slice(0,c)}l.fetchNullStateRecentSearches=g}),98);
__d("MWChatSearchFetchRecommendations",["I64","LSInitSyncCompleteSubscription","LSIntEnum","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchIssueLightspeedQuery","Promise","cr:8409","emptyFunction","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,i,l,c){var d=a.includes((u||(u=o("LSIntEnum"))).ofNumber(13)),p=a.includes(u.ofNumber(16));r("promiseDone")((e||(e=n("Promise"))).all([(s||(s=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(1))&&n("cr:8409")!=null?n("cr:8409").fetchNullStateRecentSearches(t):(e||(e=n("Promise"))).resolve([]),o("MWChatSearchFetchContactRecommendations").fetchContacts(t,i,l),d?o("MWChatSearchFetchCCRecommendations").fetchCCs(t,l):[],p?o("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(t,l):[]]).then(function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=m(t,n,r,o);return c(a)}))}function d(e,t,n,a,i,l){return r("promiseDone")(o("MWChatSearchIssueLightspeedQuery").makeSearchQuery(t,a,i)),r("gkx")("15587")?r("promiseDone")(o("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(e,(u||(u=o("LSIntEnum"))).ofNumber(7)),function(){c(e,t,n,a,l)}):c(e,t,n,a,l),r("emptyFunction")}function m(e,t,n,r){return[].concat(e,r,n,t)}l.requestRecommendations=d,l.blendSearchResults=m}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s={contents:!1},u={contents:!1},c=(e||(e=o("I64"))).of_string("100");function d(t){if(!s.contents&&(e||(e=o("I64"))).gt(c,(e||(e=o("I64"))).zero)){s.contents=!0,r("promiseDone")(t.runInTransaction(function(e){return r("LSInsertRankingContactsStoredProcedure")(r("LSFactory")(e),{limit:c})},"readwrite",void 0,void 0,i.id+":39"),function(){u.contents=!0});return}}function m(){return u.contents}l.insertRankingContacts=d,l.isDone=m}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchQPLLogger","MWSearchStandardResultTypeMappings","MWSearchThreadUtils","ReQL","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n,a,i,l){return o("MAWChatJid").toThreadKeyMaybe(t.tables,n).then(function(n){if(r("vulture")("55CqO8SSMoXHNOOlno0v1POeV24="),n!=null)return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n)).then(function(t){return{displayName:i!=null?i:"",id:a,imageUrl:"",isAiBot:t!=null&&(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:t!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:t!=null&&o("LSThreadBitOffset").has(214,t),isTTLCClipEnabled:t!=null&&o("LSThreadBitOffset").has(226,t),isTTLCGenericXMAShareEnabled:t!=null&&o("LSThreadBitOffset").has(231,t),isTTLCMediaShareEnabled:t!=null&&o("LSThreadBitOffset").has(228,t),isTTLCStoryShareEnabled:t!=null&&o("LSThreadBitOffset").has(229,t),isVerified:!1,matchedTerms:l,resultType:o("MWChatTemporarySearchResult").getResultType((s||(s=o("LSIntEnum"))).ofNumber(5)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:n}})})}function d(t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.mi_act_mapping_table).getKeyRange(t)).then(function(t){return t!=null?o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.tables.cutover_threads).filter(function(n){return(e||(e=o("I64"))).equal(n.armadilloThreadId,t.jid)})).then(function(e){return e!=null?e.openThreadId:t.jid}):Promise.resolve()})}function m(e){var t=e.score-1e-6;return{contactId:e.contactId,contactType:e.contactType,score:t,scoreIndex:e.scoreIndex,scoreType:e.scoreType}}function p(e,t){return d(e,t).then(function(n){var a=n!=null?n:e,i=n!=null;return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.ranking_scores).getKeyRange(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH))).then(function(e){if(e!=null)return i?m(e):e})})}function _(t,n,r,a){var i,l=(i=n.threadDescription)!=null?i:"";return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(15))&&(l=o("MWLSThreadTitle").getThreadTitleWithSecondaryNames(n.threadDescription,r,a,n.threadType).toString()),l}async function f(t,n,r,a){var i=await Promise.all([o("MAWChatJid").toThreadKeyMaybe(t.tables,n),o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId}))]),l=i[0],u=i[1];if(l!=null){var c=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(l));if(!(c==null||c.folderName!=="inbox")){var d=await Promise.all([o("MWSearchThreadUtils").getThreadPics(c,u,t),o("MWSearchThreadUtils").getThreadParticipants(c,t),p(c.threadKey,t)]),m=d[0],f=d[1],g=d[2],h=m[0],y=m[1],C=o("LSMessagingThreadTypeUtil").isOneToOne(c.threadType),b=o("LSMessagingThreadTypeUtil").isGroup(c.threadType)?(s||(s=o("LSIntEnum"))).ofNumber(3):(s||(s=o("LSIntEnum"))).ofNumber(1),v=null;return C===!0&&(v=await o("MWGetOtherContactOrSelf").getOtherContactOrSelf(c.threadKey,u,t)),{displayName:o("MWLSThreadTitle").getDefaultThreadTitle(c.threadName,u,f,c.threadType).toString(),id:(e||(e=o("I64"))).to_string(c.threadKey),imageUrl:h,isAiBot:e.equal(c.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:C,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,c),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,c),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,c),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,c),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,c),isVerified:v!=null?o("LSContactBitOffset").has(23,v):!1,matchedTerms:a,otherUserId:v?(e||(e=o("I64"))).to_string(v.id):void 0,rankingScore:g,resultType:o("MWChatTemporarySearchResult").getResultType(b),searchResultType:o("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(c.threadType),searchSource:"secure",secondaryImageUrl:y,section:"",subtext:_(r,c,u,f),threadKey:c.threadKey,threadType:c.threadType}}}}async function g(t,n,r){var a,i,l=await o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId})),u=await o("MAWChatJid").toThreadKeyMaybe(t.tables,n);if(u==null)return null;var c=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(u));if(c==null)return null;var d=await o("MWSearchThreadUtils").getThreadPics(c,l,t),m=d[0],p=d[1],_={contactId:(e||(e=o("I64"))).zero,contactType:e.zero,score:e.to_float(c.lastActivityTimestampMs),scoreIndex:e.zero,scoreType:e.zero};return{displayName:(a=c.threadName)!=null?a:"",id:e.to_string(u),imageUrl:m,isAiBot:e.equal(c.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,c),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,c),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,c),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,c),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,c),isVerified:!1,matchedTerms:r,rankingScore:_,resultType:o("MWChatTemporarySearchResult").getResultType(s.ofNumber(3)),searchResultType:3,searchSource:"secure",secondaryImageUrl:p,section:"",subtext:(i=c.threadDescription)!=null?i:"",threadKey:u}}async function h(e,t){var n=await(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await Promise.all(e.map(function(e){switch(e.recordType){case"msg":{var r=e.msg,o=r==null?void 0:r.msgId;return r==null||o==null?null:c(n,e.chatJid,o,r.content,e.matchedTerms)}case"groupInfo":return g(n,e.groupJid,e.matchedTerms);case"participant":return f(n,e.threadJid,t,e.matchedTerms)}}));return r.filter(Boolean)}function y(t,n,r){return t.filter(function(t){var a=(s||(s=o("LSIntEnum"))).ofNumber(o("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(t.resultType)),i=n.includes(a);if(!i)return!1;var l=(e||(e=o("I64"))).equal(a,s.ofNumber(3));return!l||r})}function C(e,t,n,r){return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"mawdb_query_start"}),o("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:r.query,searchMode:o("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},{timeoutMs:1e4}).then(function(e){return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"mawdb_query_end"}),h(e,t)}).then(function(t){return y(t,e,n)})}l.filterSearchResults=y,l.fetchResults=C}),98);
__d("mwGroupEntriesForDisplay",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new Map;for(var n of e){var r,o,a=(r=n.rawData.section)!=null?r:"",i=(o=t.get(a))!=null?o:[];i.push(n),t.set(a,i)}return t}i.mwGroupEntriesForDisplay=e}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","MWXText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["showActionItems","ariaProps","children","entries","highlightedEntry"],s,u=s||(s=o("react")),c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(19),n=e.activeEntryKey,a=e.children,i=e.entries,l=e.itemRole,s=e.title,c="chatSearchListHeading-"+s.toString().replace(/\s/g,"-");if(i!=null&&i.length>0){var d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xexx8yu x1icxu4v x18d9i69 x25sj25"},t[0]=d):d=t[0];var m;t[1]!==s||t[2]!==c?(m=s?u.jsx("div",{className:"x1y1aw1k xf159sx xwib8y2 xmzvs34",children:u.jsx(r("MWXText.react"),{id:c,isSemanticHeading:!0,type:"entityHeaderMeta1",children:s})}):null,t[1]=s,t[2]=c,t[3]=m):m=t[3];var p;if(t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==l){var _;t[9]!==n||t[10]!==a||t[11]!==l?(_=function(t,r){var e=n===t.key;return a({entry:t,index:r,isActive:e,itemRole:l})},t[9]=n,t[10]=a,t[11]=l,t[12]=_):_=t[12],p=i.map(_),t[4]=n,t[5]=a,t[6]=i,t[7]=l,t[8]=p}else p=t[8];var f;t[13]!==p||t[14]!==c?(f=u.jsx("ul",{"aria-labelledby":c,children:p}),t[13]=p,t[14]=c,t[15]=f):f=t[15];var g;return t[16]!==m||t[17]!==f?(g=u.jsxs("li",babelHelpers.extends({},d,{children:[m,f]})),t[16]=m,t[17]=f,t[18]=g):g=t[18],g}return null}function m(t){var n=t.showActionItems,a=t.ariaProps,i=t.children,l=t.entries,s=t.highlightedEntry,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p=s!=null?s.key:null,_=c(function(){return o("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(l)},[l]),f=r("getItemRoleFromCompositeRole")(a.role);return u.jsxs("ul",{className:"x1yrsyyn xyri2b x10b6aqq x1c1uobl","data-testid":void 0,role:"listbox",children:[n&&u.jsx(r("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(_.entries()).map(function(e){var t=e[0],n=e[1];return u.jsx(d,{activeEntryKey:p,children:i,entries:n,itemRole:f,title:t},t)})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e||(e=o("LSIntEnum"))).ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9),e.ofNumber(13)].concat(r("gkx")("24112")?[(e||(e=o("LSIntEnum"))).ofNumber(14)]:[]),u=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2)],c=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9),e.ofNumber(5)],d=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9)],m=[e.ofNumber(1)],p=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(4),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9)].concat([e.ofNumber(13)]),_=[e.ofNumber(1),e.ofNumber(2)],f=[e.ofNumber(1),e.ofNumber(2),e.ofNumber(6),e.ofNumber(7),e.ofNumber(8),e.ofNumber(9)],g=[e.ofNumber(1),e.ofNumber(3),e.ofNumber(2)],h=[e.ofNumber(1),e.ofNumber(2)];l.allSupportedTypes=s,l.supportedTypesForMSplitUser=u,l.allSupportedTypesWithMessageSearch=c,l.armadilloSupportedTypes=d,l.onlyContacts=m,l.broadcastFlowSupportedTypes=p,l.addParticipantBase=_,l.addParticipantXac=f,l.socialChannelsSupportedTypes=g,l.communityDirectInviteSupportedTypes=h}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s={contents:!1},u={contents:!1};function c(t){if(!s.contents){s.contents=!0,r("promiseDone")(o("MWLSDatabaseLazySync").sync(t,(e||(e=o("LSIntEnum"))).ofNumber(7)),function(){u.contents=!0});return}}function d(){return u.contents}l.sync=c,l.isDone=d}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.contacts))}function c(t){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.threads).filter(function(t){return(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(2))}))}function d(t,n){return c(n).then(function(r){var a=new Set(r.map(function(t){return(e||(e=o("I64"))).to_string(t.threadKey)}));return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.participants).filter(function(n){return!(e||(e=o("I64"))).equal(n.contactId,t)&&a.has((e||(e=o("I64"))).to_string(n.threadKey))}).map(function(e){var t=[e,o("ReQLSuspense").first(o("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(e.contactId),i.id+":54")];return t}))})}l.fetchContacts=u,l.fetchGroupThreads=c,l.fetchGroupParticipants=d}),98);
__d("MWPSearchOpenIndexer",["I64","LSIntEnum","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","ReQL","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map,c=new Map,d=new Map;function m(t){var n=t.id,r=t.name,a=(e||(e=o("I64"))).to_string(n),i={category:{type:o("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:r,id:a};o("MWPSearchOfflineOpenConversations").add(i),u.set(a,i)}function p(e){var t=u.get(e);if(t!=null){u.delete(e),o("MWPSearchOfflineOpenConversations").remove(t);return}}function _(t){var n=t.threadKey,r=t.threadName;if(r!=null){var a=(e||(e=o("I64"))).to_string(n),i={category:{type:o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:r,id:a};o("MWPSearchOfflineOpenConversations").add(i),c.set(a,i)}}function f(e){var t=c.get(e);if(t!=null){c.delete(e),o("MWPSearchOfflineOpenConversations").remove(t);return}}function g(e,t){if(t!=null){var n=o("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(e.threadKey,e.contactId),r=t.name;e.nickname!=null&&(r+=" "+e.nickname);var a={category:{type:o("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:r.trim(),id:n};o("MWPSearchOfflineOpenConversations").add(a),d.set(n,a)}}async function h(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(t.contactId)),a=await y(e,t.threadKey);if(!(a&&r("gkx")("16989")))return g(t,n)}async function y(t,n){var r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n));return r==null?!1:!(e||(e=o("I64"))).equal(r.threadType,(s||(s=o("LSIntEnum"))).ofNumber(2))}function C(e,t){var n=o("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(e,t),r=d.get(n);if(r!=null){d.delete(n),o("MWPSearchOfflineOpenConversations").remove(r);return}}function b(t,n){switch(n.operation){case"add":return m(n.value);case"put":return p((e||(e=o("I64"))).to_string(t)),m(n.value);case"delete":return p((e||(e=o("I64"))).to_string(t))}}function v(t,n){switch(n.operation){case"add":return _(n.value);case"put":return f((e||(e=o("I64"))).to_string(t)),_(n.value);case"delete":return f((e||(e=o("I64"))).to_string(t))}}function S(e,t,n,r){switch(r.operation){case"add":return h(e,r.value);case"put":return C(t,n),h(e,r.value);case"delete":return Promise.resolve(C(t,n))}}function R(e,t,n,r){o("MWPSearchOfflineOpenConversationsUtils").db.contents=e,t.forEach(m),n.forEach(_),r.forEach(function(e){var t=e[0],n=e[1];return g(t,n)})}l.onContactChanged=b,l.onGroupThreadChanged=v,l.onGroupParticipantChanged=S,l.startInitialIndex=R}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={contents:!1},m={contents:!1},p={contents:!1};function _(t){if(!p.contents){p.contents=!0,(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(function(){o("MWChatSearchInsertRankingContacts").insertRankingContacts(t),o("MWLSSyncRankings").sync(t);var a=(c||(c=o("I64"))).of_string(r("CurrentUser").getID());if(!d.contents){d.contents=!0;var i=r("gkx")("16989");r("promiseDone")((e||(e=n("Promise"))).all([o("MWPSearchIndexingSource").fetchContacts(t),i?o("MWPSearchIndexingSource").fetchGroupThreads(t):(e||(e=n("Promise"))).resolve([]),i?o("MWPSearchIndexingSource").fetchGroupParticipants(a,t):(e||(e=n("Promise"))).resolve([])]).then(function(e){var n=e[0],r=e[1],a=e[2];o("MWPSearchOpenIndexer").startInitialIndex(t,n,r,a)}),function(){m.contents=!0},function(e){r("FBLogger")("messenger_web_search").catching(e).mustfix("Error indexing contacts for search")}),o("ReQL").fromTableAscending(t.tables.contacts).subscribe(function(e,t){var n=e[0];o("MWPSearchOpenIndexer").onContactChanged(n,t)}),i&&(o("ReQL").fromTableAscending(t.tables.threads).filter(function(e){return(c||(c=o("I64"))).equal(e.threadType,(u||(u=o("LSIntEnum"))).ofNumber(2))}).subscribe(function(e,t){var n=e[0];o("MWPSearchOpenIndexer").onGroupThreadChanged(n,t)}),o("ReQL").fromTableAscending(t.tables.participants,["contactId","threadKey","nickname"]).filter(function(e){return!(c||(c=o("I64"))).equal(e.contactId,a)}).subscribe(function(e,n){var a=e[0],i=e[1];r("promiseDone")(o("MWPSearchOpenIndexer").onGroupParticipantChanged(t,a,i,n))}))}});return}}function f(e){return e.runInTransaction(function(e){return r("LSClearTablesStoredProcedure")(r("LSFactory")(e),{clearMessageResults:!1})},"readwrite",void 0,void 0,i.id+":122")}function g(){return o("MWLSSyncRankings").isDone()&&o("MWChatSearchInsertRankingContacts").isDone()?m.contents:!1}l.makeAll=_,l.clearAll=f,l.isDone=g}),98);
__d("SearchTransportType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6}),l=e;i.default=l}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("844"),s=o("FalcoLoggerInternal").create("universal_search_end",e),u=s;l.default=u}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("846"),s=o("FalcoLoggerInternal").create("universal_search_result_selected",e),u=s;l.default=u}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33,NULL_STATE_PYMK:34,QUERY_SUGGESTED_PROMPT:35,INVITE_TO_INSTAGRAM:36,INVITE_TO_INSTAGRAM_SEE_MORE:37,NULL_STATE_GROUP_CHATS:38,NULL_STATE_GROUP_CHATS_SEE_MORE:39,QUERY_NON_FOLLOWING_SEE_MORE:40,META_AI_SNIPPET:41,QUERY_BUSINESSES_SEE_MORE:42,QUERY_MESSAGES_SEE_MORE:43,PHOTOS_AND_VIDEOS:44,PHOTOS_AND_VIDEOS_SEE_MORE:45,LINKS:46,LINKS_SEE_MORE:47,FILES:48,FILES_SEE_MORE:49,PHONE_CONTACTS:50,PHONE_CONTACTS_SEE_MORE:51,NOT_IN_PHONE_CONTACTS:52,NULL_STATE_SUGGESTED_REELS:53,NULL_STATE_NOTIFICATIONS:54}),l=e;i.default=l}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MWChatSearchResultType","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"noncontacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups",MESSAGE_SEARCH:"message_search"}),u=function(t){switch(t){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function c(e){return e===!0?1:3}function d(e){return e===!0?0:2}function m(e,t){var n=t.searchSource,r=t.section,o=t.sectionAnalyticsName;if(e==="")return n==="null_state_recent"?1:3;if(s.cast(o)===s.MESSAGE_SEARCH)return 10;if(n!=="server"||r==="")return 5;var a=s.cast(o);if(a==null)return 11;switch(a){case s.CM_THREADS:return 13;case s.CONTACTS_GROUPS:return 5;case s.NON_CONTACTS:return 6;case s.PAGES:return 9;default:return 11}}function p(e){return(e!=null?e:-1).toString()}function _(t,n,a,i){var l=a.rawData,s=l.id,d=l.isE2EE,_=l.isEPD,f=l.renderIndex,g=l.searchResultType,h=l.searchSource,y=l.serverSearchResult,C=p(f),b=s,v=c(d);if(y!=null){var S;b=(S=y.resultId)!=null?S:b,v=o("LSMessagingThreadTypeUtil").isArmadilloSecure(y==null?void 0:y.threadType)?1:3,C=(e||(e=o("I64"))).to_string(y.globalIndex)}if(r("UniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:u(h),is_epd:r("gkx")("23390")||_,search_result:{query_string:n,result_fbid:b,result_index:C,result_type:g!=null?g:7},session_id:t,transport_type:v,ui_section:m(n,l)}}),!i.current){var R=7;a.rawData.resultType===r("MWChatSearchResultType").MESSAGE&&(R=23),r("UniversalSearchEndFalcoEvent").log(function(){return{end_action:R,is_epd:r("gkx")("24110")||_,session_id:t,transport_type:v}}),i.current=!0}}l.SectionAnalyticsNameType=s,l.getLoggingDataSources=u,l.getTransportType=c,l.getLsTransportType=d,l.mapSectionToSearchUISection=m,l.logResultSelected=_}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType","MWSearchLogging"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=s._(/*BTDS*/"Search messages for {param}",[s._param("param",e)]).toString();return{key:e,label:t,rawData:{displayName:t,id:"0",imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:r("MWChatSearchResultType").MESSAGE,searchResultType:14,secondaryImageUrl:"",sectionAnalyticsName:o("MWSearchLogging").SectionAnalyticsNameType.MESSAGE_SEARCH,subtext:""},type:"entry"}}l.createMessageSearchHeaderEntry=e}),226);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n;return{key:e.id,label:e.displayName,rawData:{canViewerMessage:e.canViewerMessage,communityId:e.communityId,defaultE2eeThreadOneToOne:e.defaultE2eeThreadOneToOne,defaultE2eeThreads:e.defaultE2eeThreads,displayName:e.displayName,hasCutoverThread:e.hasCutoverThread,id:e.id,igid:e.resultIgid,imageUrl:e.imageUrl,isAiBot:e.isAiBot,isContact:e.isContact,isDisappearingModeSettingOn:e.isDisappearingModeSettingOn,isE2EE:e.isE2EE,isEPD:e.isEPD,isGroupCreationReachable:e.isGroupCreationReachable,isGroupsXacEligible:!!e.isGroupsXacEligible,isInstagramAccount:!!e.isInstagramAccount,isInstamadilloCutover:e.isInstamadilloCutover,isInteropEligible:e.isInteropEligible!==!1,isRestrictedByViewer:e.isRestrictedByViewer,isTTLCClipEnabled:!!e.isTTLCClipEnabled,isTTLCGenericXMAShareEnabled:!!e.isTTLCGenericXMAShareEnabled,isTTLCMediaShareEnabled:!!e.isTTLCMediaShareEnabled,isTTLCStoryShareEnabled:!!e.isTTLCStoryShareEnabled,isViewerUnconnected:e.isViewerUnconnected,isWAEligible:e.isWAEligible,otherUserId:e.otherUserId,rankingScore:e.rankingScore,reachabilityStatus:e.reachabilityStatus,renderIndex:t,resultType:e.resultType,searchResultType:e.searchResultType,searchSource:e.searchSource,secondaryImageUrl:(n=e.secondaryImageUrl)!=null?n:"",section:e.section,sectionAnalyticsName:e.sectionAnalyticsName,serverSearchResult:e.serverSearchResult,subtext:e.subtext,subtextAdditional:e.subtextAdditional,supportsE2eeSpamdStorage:e.supportsE2eeSpamdStorage,threadType:e.threadType,verificationStatus:e.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:e.waAddressable,waEligibility:e.waEligibility},type:"entry"}}i.default=e}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return t===r("MWChatSearchSurfaces").instagramAll?e:e.filter(function(e){return!e.isInstagramAccount})}l.default=e}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(t,n,r,o,a,i){"use strict";var e=["entries"];function l(t){return function(n){var r=n.entries,o=babelHelpers.objectWithoutPropertiesLoose(n,e);return babelHelpers.extends({entries:r.filter(function(e){return!t.includes(e.key)})},o)}}i.default=l}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(t,n,r,o,a,i){"use strict";var e=["entries"];function l(t){var n,r=t.entries,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=(n=t.params)==null?void 0:n.query,i=r.reduce(function(e,t,n){var r=t.rawData.section;if(r==null)return e;r===""&&e.set(r,0);var o=e.get(r),a=o==null?n:Math.min(o,n);return e.set(r,a),e},new Map),l=r.map(function(e,t){var n=e.key,r=e.label,o=e.rawData,l=o.section;return{key:n,label:r,rawData:babelHelpers.extends({},o,{query:a,renderIndex:t,sectionRenderIndex:l==null?-1:i.get(l)}),type:"entry"}});return babelHelpers.extends({entries:l},o)}i.default=l}),66);
__d("sortMWChatSearchLocalResults",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={group:1,message:2,messages:3,page:4,user:0},s=r("gkx")("23913");function u(t,n){var r={};for(var o of t){var a;r[o.id]=(a=o.rankingScore)==null?void 0:a.score}var i=t.sort(function(t,o){var a,i,l=e[t.resultType],u=e[o.resultType];if(l!==u)return l-u;if(s&&n.length>1){var c,d,m,p,_=(c=(d=t.matchedTerms)==null?void 0:d.length)!=null?c:0,f=(m=(p=o.matchedTerms)==null?void 0:p.length)!=null?m:0;if(f!==_)return f-_}var g=(a=r[t.id])!=null?a:0,h=(i=r[o.id])!=null?i:0;return h-g});return i}l.default=u}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","I64","LSIntEnum","MNetRankType","MWChatSearchFetchRecommendations","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWSearchQPLLogger","MWStaticSearchEntries","cr:3752","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","gkx","isArmadillo","justknobx","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalResults"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=10,c=10,d=r("isArmadillo")(),m=(function(){function t(t){var n=t.database,a=t.excludedIDs,i=a===void 0?[]:a,l=t.lightspeedSupportedTypes,s=l===void 0?o("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:l,u=t.source,c=u===void 0?r("MWChatSearchSurfaces").universal:u,d=t.includeRecommendations,m=d===void 0?!0:d,p=t.includeGroupSearch,_=p===void 0?!1:p,f=t.includeMessageSearchEntry,g=f===void 0?!0:f,h=t.nullstateRankType,y=h===void 0?r("gkx")("17703")?(e||(e=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_SEARCH_NULL_STATE_UNBLENDED):(e||(e=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):h,C=t.includeAiBots,b=C===void 0?!0:C;this.$1=[],this.$5=function(){},this.$1=i,this.$2=c===r("MWChatSearchSurfaces").omnipickerArmadillo?o("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:s,this.$3=c,this.$4=n,this.$6=m,this.$7=_,this.$8=g,this.$9=y,this.$10=b,o("MWPSearchSystem").makeAll(n)}var a=t.prototype;return a.resolveData=async function(t,n){var e=n.map(r("createMWChatSearchTypeaheadDataEntry")),a=[].concat(this.$8&&t.query.length>1?[o("MWStaticSearchEntries").createMessageSearchHeaderEntry(t.query)]:[],e),i=o("MWChatSearchFilteringUtils").dedupeByThreadKey(a),l=await o("MWChatSearchFilteringUtils").filterSearchResults(i,this.$4,!1,d,!this.$10),s=r("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return r("mwChatSearchPayloadEnumerate")(s({entries:l,params:t}))},a.fetchNetwork=function(t){var e=this;return o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddAnnotations({annotations:{bool:{include_group_search:this.$7},int:{source:(s||(s=o("I64"))).to_int32(this.$3)}}}),this.$5(),r("relay-runtime/network/RelayObservable").create(function(n){if(t.query.length===0){e.$5=e.fetchNullstateResults(t,n);return}var a=[],i=[],l=!1;o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{query_length:t.query.length}},point:"local_query_start"});var s=Promise.allSettled(e.issueLocalSearchQuery(t)).then(async function(s){var u=s[0],c=s[1],d=u.status==="fulfilled"?u.value:[],m=c.status==="fulfilled"?c.value:[];o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{offline_search_results_count:m.length,secure_search_results_count:d.length}},point:"local_query_end"}),a=e.transformLocalSearchResults(d,m),a=r("sortMWChatSearchLocalResults")(a,t.query),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_start"});var p=await e.resolveData(t,a.concat(i));o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_end"}),l||n.next(p)}).catch(function(e){r("FBLogger")("messenger_search").catching(e).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),u=o("MWChatSearchIssueLightspeedQuery").requestResults_T200619723;r("justknobx")._("2003")&&(u=o("MWChatSearchIssueLightspeedQuery").requestResults),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"server_query_start"});var c=u(e.$4,e.$2,e.$3,e.$7,t,function(l){o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{server_search_results_count:l.length}},point:"server_query_end"}),i=l;var u=t.query.length>0&&o("MWPSearchSystem").isDone(),c=u?s:Promise.resolve();o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{bool:{wait_for_local_search:u}},point:"wait_for_local_search_start"}),r("promiseDone")(c.finally(async function(){o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"wait_for_local_search_end"}),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_start"});var r=await e.resolveData(t,a.concat(i));o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{total_results_count:r.entries.length}},point:"resolve_data_end"}),n.next(r),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplSuccess(),n.complete()}))});e.$5=function(){c(),l=!0}})},a.issueLocalSearchQuery=function(t){return[n("cr:3752")!=null?n("cr:3752").fetchResults(this.$2,this.$3,this.$7,t):Promise.resolve([]),this.$3!==r("MWChatSearchSurfaces").broadcast?o("MWPSearchOfflineOpenConversationsUtils").search(t.query,this.$7):Promise.resolve([])]},a.transformLocalSearchResults=function(t,n){var e=u<=0?n:n.slice(0,u),r=c<=0?t:t.slice(0,c);return e.concat(r)},a.fetchNullstateResults=function(n,a){var t=this;return this.$6?(o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{bool:{should_fetch_community_chats:this.$2.includes((e||(e=o("LSIntEnum"))).ofNumber(13)),should_fetch_genai_bots:this.$2.includes((e||(e=o("LSIntEnum"))).ofNumber(16))},int:{null_state_rank_type:(s||(s=o("I64"))).to_int32(this.$9)}},point:"null_state_query_start"}),o("MWChatSearchFetchRecommendations").requestRecommendations(this.$4,this.$2,this.$9,this.$3,n,async function(e){var i=r("filterInstagramContactsMWChatSearchLocalEntries")(e,t.$3);o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"null_state_query_end"}),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({point:"resolve_data_start"});var l=await t.resolveData(n,i);o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplAddPoint({annotations:{int:{null_state_results_count:l.entries.length}},point:"resolve_data_end"}),a.next(l),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").qplSuccess(),a.complete()})):(a.next({entries:[],params:n}),a.complete(),function(){})},a.setExcludedIds=function(t){this.$1=t},t})();l.default=m}),98);
__d("MWJewelSearchTypeaheadViewItemStartContent.react",["I64","LSMessagingThreadTypeUtil","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWFacepile.react","MWLSThread","MWXIconMagnifyingGlass","MWXIconStrict.react","getLSMediaThreadPictureUrl","gkx","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(18),n=e.entry,a=n.rawData,i=a.imageUrl,l=a.resultType,c=a.searchSource,m=a.secondaryImageUrl,p;t[0]!==n.key?(p=(s||(s=o("I64"))).of_string_opt(n.key),t[0]=n.key,t[1]=p):p=t[1];var _=p,f=o("MWLSThread").useThread(_!=null?_:null,d),g;t[2]!==f?(g=f!=null?f:{},t[2]=f,t[3]=g):g=t[3];var h=g,y=h.threadType,C;t[4]!==f?(C=f!=null?r("getLSMediaThreadPictureUrl")(f):null,t[4]=f,t[5]=C):C=t[5];var b=C;if(l===r("MWChatSearchResultType").MESSAGE){var v;return t[6]===Symbol.for("react.memo_cache_sentinel")?(v=u.jsx("div",{className:"x1qhmfi1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1y1aw1k xf159sx xwib8y2 xmzvs34",children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconMagnifyingGlass"),isDecorative:!0,size:20})}),t[6]=v):v=t[6],v}if(c==="null_state_recent"&&r("gkx")("17176")&&y!=null&&o("LSMessagingThreadTypeUtil").isGroup(y)&&_!=null){var S;return t[7]!==_||t[8]!==b||t[9]!==y?(S=b!=null?u.jsx(r("MWChatProfile.react"),{size:36,src:b}):u.jsx(r("MWFacepile.react"),{actualBadge:null,onlyAuthoratitiveContacts:!0,photoSize:36,threadKey:_,threadType:y}),t[7]=_,t[8]=b,t[9]=y,t[10]=S):S=t[10],S}var R=!(y!=null&&o("LSMessagingThreadTypeUtil").isOneToOne(y));if(r("isStringNullOrEmpty")(m)){var L;return t[11]!==i?(L=u.jsx(r("MWChatProfile.react"),{size:36,src:i}),t[11]=i,t[12]=L):L=t[12],L}if(R){var E;return t[13]!==i||t[14]!==m?(E=u.jsx(r("MWChatFacepile.react"),{firstParticipantURI:i,secondParticipantURI:m,size:36}),t[13]=i,t[14]=m,t[15]=E):E=t[15],E}var k;return t[16]!==m?(k=u.jsx(r("MWChatProfile.react"),{size:36,src:m}),t[16]=m,t[17]=k):k=t[17],k}function d(e){var t=e.threadPictureUrl,n=e.threadPictureUrlExpirationTimestampMs,r=e.threadPictureUrlFallback,o=e.threadType;return{threadPictureUrl:t,threadPictureUrlExpirationTimestampMs:n,threadPictureUrlFallback:r,threadType:o}}l.default=c}),98);
__d("MWJewelSearchTypeaheadViewItemUtils",["fbt","ConstUriUtils","CurrentEnvironment","I64","LSMessagingThreadTypeUtil","MWChatSearchResultType","MWSearchLogging","QPLUserFlow","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","gkx","isTlcSearchEnabled","justknobx","qpl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=function(t){if(t==null)return null;var e=t.loggingSessionId;return e};function c(t){var n=t!=null?t:{},a=n.threadType,i=n.type_;return!(a==null||i==null||!o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a)||(e||(e=o("I64"))).to_int32(i)!==14||!r("gkx")("24052"))}function d(e){if(r("CurrentEnvironment").messengerdotcom===!0||r("justknobx")._("1406"))return!1;var t=e===r("MWChatSearchResultType").USER||e===r("MWChatSearchResultType").GROUP;return r("isTlcSearchEnabled")()===!0&&t}function m(e){var t,n=e!=null?e:{},r=n.threadJoinLinkHash,a=n.threadType;if(!(a==null||r==null)){var i=c(e)||o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a),l=i?(t=o("ConstUriUtils").getUri(r))==null?void 0:t.getPath().split("/").reverse()[1]:void 0;return l}}function p(e){return e==null?!1:o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(e)}function _(e){return e==null?!1:o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e)}function f(){return s._(/*BTDS*/"Secret conversation")}function g(e,t){r("CurrentEnvironment").facebookdotcom?r("XCometMessengerControllerRouteBuilder").buildURL({link_hash:e,thread_key:t}):r("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:e,thread_key:t})}function h(e,t,n){if(e!=null){var a=n.rawData,i=a.id,l=a.isE2EE,s=a.isEPD,u=a.renderIndex,c=a.searchResultType,d=a.searchSource;r("UniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:o("MWSearchLogging").getLoggingDataSources(d),is_epd:r("gkx")("23390")||s,search_result:{query_string:t,result_fbid:i,result_index:(u!=null?u:-1).toString(),result_type:c!=null?c:7},session_id:e,transport_type:o("MWSearchLogging").getTransportType(l),ui_section:o("MWSearchLogging").mapSectionToSearchUISection(t,a)}})}}function y(e,t,n,o){e===!0?r("QPLUserFlow").endSuccess(r("qpl")._(25312244,"1683")):r("QPLUserFlow").endCancel(r("qpl")._(25312244,"1683")),h(t,n,o)}l.getSessionId=u,l.isUnjoinedPublicChat=c,l.shouldUpdateThreadKey=d,l.genLinkHash=m,l.isUnjoinedBroadcastChannel=p,l.isBroadcastChannel=_,l.gete2eeAttributionSubtext=f,l.getChatNavigationUrl=g,l.logSearchResultClickHepler=h,l.logSearchResultClick=y}),226);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("845"),s=o("FalcoLoggerInternal").create("universal_search_impression",e),u=s;l.default=u}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","MWSearchQPLLogger","UniversalSearchImpressionFalcoEvent","react","react-compiler-runtime","usePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t,n=o("react-compiler-runtime").c(17),a=e.cmGroupId,i=e.entry,l=e.instanceId,s=e.queryString,u=i.rawData,c=u.id,d=u.isE2EE,m=u.isEPD,p=u.renderIndex,_=u.searchResultType,f=u.searchSource,g=c,h=g,y=p!=null?p:-1,C;n[0]!==y?(C=y.toString(),n[0]=y,n[1]=C):C=n[1];var b=C,v;if(n[2]!==a||n[3]!==((t=i.rawData)==null?void 0:t.query)||n[4]!==l||n[5]!==d||n[6]!==m||n[7]!==s||n[8]!==u||n[9]!==p||n[10]!==h||n[11]!==b||n[12]!==_||n[13]!==f){var S;v=function(){var e;l!=null&&(r("UniversalSearchImpressionFalcoEvent").log(function(){return{cm_group_id:a,data_sources:o("MWSearchLogging").getLoggingDataSources(f),impression_selected:!1,is_epd:m,search_result:{query_string:s,result_fbid:h,result_index:b,result_type:_!=null?_:7},session_id:l,transport_type:o("MWSearchLogging").getTransportType(d),ui_section:o("MWSearchLogging").mapSectionToSearchUISection(s,u)}}),o("MWSearchQPLLogger")==null||o("MWSearchQPLLogger").renderSearchResult({queryString:(e=i.rawData)==null?void 0:e.query,renderIndex:p!=null?p:-1,sessionInstanceId:l,source:f}))},n[2]=a,n[3]=(S=i.rawData)==null?void 0:S.query,n[4]=l,n[5]=d,n[6]=m,n[7]=s,n[8]=u,n[9]=p,n[10]=h,n[11]=b,n[12]=_,n[13]=f,n[14]=v}else v=n[14];var R=v,L;return n[15]!==R?(L={onImpressionStart:R},n[15]=R,n[16]=L):L=n[16],r("usePartialViewImpression")(L)}l.default=u}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["BaseMiddot.react","CometTypeaheadViewItem.react","FBLogger","I64","LSIntEnum","LSThreadAttributionStore","MAWThreadCutover","MWJewelSearchTypeaheadViewItemStartContent.react","MWJewelSearchTypeaheadViewItemUtils","MWLSThreadDisplayContext","MWXPageVerificationIcon.react","MWXText.react","MWXTextPairing.react","cr:393","cr:4538","cr:4539","cr:8414","cr:8415","cr:8417","deferredLoadComponent","isStringNullOrEmpty","mwCMIsAnyCMThread","react","requireDeferred","useMWNavigation","useMergeRefs","useUniversalSearchImpressionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry","extraViewItemProps","onPressEntry","queryString"],s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useRef,f=m.useState,g=r("deferredLoadComponent")(r("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),h={contentRoot:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",":hover_backgroundColor":"x8du52y",$$css:!0}};function y(t){var a=t.entry,i=t.extraViewItemProps,l=t.onPressEntry,s=t.queryString,m=babelHelpers.objectWithoutPropertiesLoose(t,e),y=a.rawData,C=y.id,b=y.isE2EE,v=y.isInstagramAccount,S=y.isInteropEligible,R=y.otherUserId,L=y.resultType,E=y.searchSource,k=y.section,I=y.serverSearchResult,T=y.subtext,D=y.subtextAdditional,x=y.threadType,$=y.verificationStatus,P=n("cr:4538")==null?void 0:n("cr:4538")(),N=n("cr:4539")==null?void 0:n("cr:4539")({onSuccess:function(t){return P==null?void 0:P(t)}}),M=o("MAWThreadCutover").useShouldHideE2eeAttribution((u||(u=o("I64"))).of_string_opt(C),x),w=r("useMWNavigation")(),A=x!=null&&r("mwCMIsAnyCMThread")(x),F=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),O=o("MWJewelSearchTypeaheadViewItemUtils").getSessionId(i),B=r("useUniversalSearchImpressionFalcoEvent")({entry:a,instanceId:O,isCommunityChat:A,queryString:s}),W=_(null),q=r("useMergeRefs")(W,B),U=n("cr:8414")(),V=f(),H=V[0],G=V[1],z=R,j=b&&!M?o("MWJewelSearchTypeaheadViewItemUtils").gete2eeAttributionSubtext():T;p(function(){if(m.isActive){var e;(e=W.current)==null||e.scrollIntoView({block:"nearest"})}},[m.isActive]);var K=H!=null?H:C,Q=o("MWJewelSearchTypeaheadViewItemUtils").genLinkHash(I),X=babelHelpers.extends({},a,{key:K,rawData:babelHelpers.extends({},y,{id:K},z==null&&C!==K?{otherUserId:C}:{})}),Y=$==="BLUE_VERIFIED"||$==="GRAY_VERIFIED";return r("isStringNullOrEmpty")(a.label)&&n("cr:8415")!=null&&E!=="null_state_recent"?(r("FBLogger")("search").warn("aibolk Empty search result label for entry: %s",a.rawData.id),null):d.jsx("div",{ref:q,children:d.jsxs(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},m,{entry:X,isDisabled:v===!0&&S===!1,itemEndContent:E==="null_state_recent"&&n("cr:8417")!=null?d.jsx(n("cr:8417"),{entry:a}):null,itemStartContent:d.jsx(r("MWJewelSearchTypeaheadViewItemStartContent.react"),{entry:a}),linkProps:{preventLocalNavigation:!0,url:o("MWJewelSearchTypeaheadViewItemUtils").getChatNavigationUrl(Q,K)},onPressEntry:function(t,n){var e=o("LSThreadAttributionStore").getSourceForNewThread();if(e==="jewel"||e==="unknown"&&F==null?e="jewelSearch":e==="unknown"&&F==="ChatTab"?e="chatheadsNewMessage":e==="unknown"&&F==="Inbox"&&(e="messengerUniversalSearch"),e!=="unknown"&&o("LSThreadAttributionStore").setSource(K,e),o("MWJewelSearchTypeaheadViewItemUtils").isUnjoinedPublicChat(I)){var r=I!=null?I:{},i=r.threadJoinLinkHash;i!=null&&(N==null||N(i))}else o("MWJewelSearchTypeaheadViewItemUtils").isUnjoinedBroadcastChannel(x)?(U==null||U(a),w.openInbox({threadKey:(u||(u=o("I64"))).of_string(K),threadLinkHash:Q,threadType:(c||(c=o("LSIntEnum"))).ofNumber(153)},"jewelSearch")):(l(t,n),o("MWJewelSearchTypeaheadViewItemUtils").logSearchResultClick(A,O,s,a))},testid:void 0,xstyle:h.contentRoot,children:[o("MWJewelSearchTypeaheadViewItemUtils").shouldUpdateThreadKey(L)?d.jsx(g,{id:C.toString(),updateThreadKey:G}):null,d.jsx(r("MWXTextPairing.react"),{body:d.jsxs(r("MWXText.react"),{numberOfLines:1,type:"body3",children:[E==="null_state_recent"&&n("cr:8415")!=null?d.jsx(n("cr:8415"),{entry:a}):a.label,$!=null&&Y&&!o("MWJewelSearchTypeaheadViewItemUtils").isBroadcastChannel(x)?d.jsx("span",{className:"xmzvs34",children:d.jsx(r("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:$})}):null]}),level:3,meta:j&&j!==""?d.jsxs(r("MWXText.react"),{numberOfLines:1,type:"meta4",children:[j,o("MWJewelSearchTypeaheadViewItemUtils").isBroadcastChannel(x)&&!!D&&d.jsxs(d.Fragment,{children:[$!=null&&Y&&d.jsx("span",{className:"x135b78x xxymvpz",children:d.jsx(r("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:$})}),d.jsx(r("BaseMiddot.react"),{}),D]}),(k==null||k==="")&&a.rawData.isInstagramAccount?d.jsxs(d.Fragment,{children:[d.jsx(r("BaseMiddot.react"),{}),"Instagram"]}):null]}):null}),n("cr:393")!=null&&d.jsx(n("cr:393"),{rawData:X.rawData})]}))})}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),98);
__d("MWJewelSearchTypeaheadViewItemLabel.react",["Actor","I64","LSAuthorityLevel","LSIntEnum","MWChatSearchResultType","MWLSParticipant","MWLSThreadTitle","ReQL","ReQLSuspense","isStringNullOrEmpty","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(15),a=t.entry,l=(u||(u=r("useReStore")))(),c=o("Actor").useActor(),d=c[0],m=a.rawData,p=m.id,_=m.resultType,f,g;n[0]!==l||n[1]!==p||n[2]!==_?(f=function(){return _!==r("MWChatSearchResultType").GROUP?o("ReQL").empty():o("ReQL").fromTableAscending(l.tables.threads).getKeyRange((e||(e=o("I64"))).of_string(p))},g=[_,p,l],n[0]=l,n[1]=p,n[2]=_,n[3]=f,n[4]=g):(f=n[3],g=n[4]);var h=o("ReQLSuspense").useFirst(f,g,i.id+":38"),y,C;n[5]!==l||n[6]!==p||n[7]!==_?(y=function(){return _!==r("MWChatSearchResultType").GROUP?o("ReQL").empty():o("MWLSParticipant").getAllInOpenThread(l,o("ReQL").fromTableAscending(l.tables.contacts),(e||(e=o("I64"))).of_string(p))},C=[p,_,l],n[5]=l,n[6]=p,n[7]=_,n[8]=y,n[9]=C):(y=n[8],C=n[9]);var b=o("ReQLSuspense").useArray(y,C,i.id+":45");if(!r("isStringNullOrEmpty")(a.label))return a.label;if(h!=null&&(e||(e=o("I64"))).ge(h.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").SERVER_PARTIAL))){var v;return n[10]!==d||n[11]!==b||n[12]!==h.threadName||n[13]!==h.threadType?(v=o("MWLSThreadTitle").getDefaultThreadTitle(h.threadName,(e||(e=o("I64"))).of_string(d),b,h.threadType),n[10]=d,n[11]=b,n[12]=h.threadName,n[13]=h.threadType,n[14]=v):v=n[14],v}return a.label}l.default=c}),98);
__d("MWRecentSearchDeleteButton.react",["fbt","CometInternalTypeaheadFetchContext","MWRecentSearchesStorage","MWXCircleButton.react","MWXIconCross","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext;function p(e){var t=o("react-compiler-runtime").c(6),n=e.entry,a=m(r("CometInternalTypeaheadFetchContext")),i=a.refetch,l;t[0]!==n.key||t[1]!==i?(l=function(){r("promiseDone")(o("MWRecentSearchesStorage").clearRecentSearchItem(n.key),function(){i==null||i()})},t[0]=n.key,t[1]=i,t[2]=l):l=t[2];var c=l,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Clear"),t[3]=d):d=t[3];var p;return t[4]!==c?(p=u.jsx(r("MWXCircleButton.react"),{"aria-label":d,color:"secondary",icon:r("MWXIconCross"),onPress:c,size:24,type:"deemphasized"}),t[4]=c,t[5]=p):p=t[5],p}l.default=p}),226);
__d("MWXSpacing.stylex",[],(function(t,n,r,o,a,i,l){"use strict";var e="@media (max-width: 320px), (max-height: 256px)",s={spacing4:"var(--x1e4hm47)",spacing8:"var(--x15qbgmd)",spacing10:"var(--x19nwfu8)",spacing12:"var(--xxjzes5)",spacing16:"var(--xsyyfky)",spacing20:"var(--x44p0ev)",spacing24:"var(--x1npqni6)",__varGroupHash__:"x1g5acrz"};l.MWXSpacing=s}),98);
__d("useAddSearchResultToRecents",["MWRecentSearchesStorage","promiseDone","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){return c}function c(e){r("promiseDone")(o("MWRecentSearchesStorage").upsertRecentSearchEntry(e))}l.default=u}),98);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(){r("promiseDone")(n.runInTransaction(d,"readwrite",void 0,void 0,i.id+":22"))},t[0]=n,t[1]=a):a=t[1],a}function d(e){return r("LSClearTablesStoredProcedure")(r("LSFactory")(e),{clearMessageResults:!1})}l.default=c}),98);